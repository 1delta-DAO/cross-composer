import{m as sn}from"./index-CZyBPvr7.js";var Oe={exports:{}},bt={},he={},ge={},Et={},St={},Pt={},Dt;function ht(){return Dt||(Dt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class n{}e._CodeOrName=n,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class S extends n{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=S;class d extends n{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((a,h)=>`${a}${h}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((a,h)=>(h instanceof S&&(a[h.str]=(a[h.str]||0)+1),a),{})}}e._Code=d,e.nil=new d("");function E(i,...t){const a=[i[0]];let h=0;for(;h<t.length;)l(a,t[h]),a.push(i[++h]);return new d(a)}e._=E;const o=new d("+");function f(i,...t){const a=[y(i[0])];let h=0;for(;h<t.length;)a.push(o),l(a,t[h]),a.push(o,y(i[++h]));return m(a),new d(a)}e.str=f;function l(i,t){t instanceof d?i.push(...t._items):t instanceof S?i.push(t):i.push(P(t))}e.addCodeArg=l;function m(i){let t=1;for(;t<i.length-1;){if(i[t]===o){const a=$(i[t-1],i[t+1]);if(a!==void 0){i.splice(t-1,3,a);continue}i[t++]="+"}t++}}function $(i,t){if(t==='""')return i;if(i==='""')return t;if(typeof i=="string")return t instanceof S||i[i.length-1]!=='"'?void 0:typeof t!="string"?`${i.slice(0,-1)}${t}"`:t[0]==='"'?i.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(i instanceof S))return`"${i}${t.slice(1)}`}function _(i,t){return t.emptyStr()?i:i.emptyStr()?t:f`${i}${t}`}e.strConcat=_;function P(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:y(Array.isArray(i)?i.join(","):i)}function v(i){return new d(y(i))}e.stringify=v;function y(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function p(i){return typeof i=="string"&&e.IDENTIFIER.test(i)?new d(`.${i}`):E`[${i}]`}e.getProperty=p;function w(i){if(typeof i=="string"&&e.IDENTIFIER.test(i))return new d(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}e.getEsmExportName=w;function s(i){return new d(i.toString())}e.regexpCode=s})(Pt)),Pt}var Nt={},Vt;function Ut(){return Vt||(Vt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const n=ht();class S extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var d;(function(m){m[m.Started=0]="Started",m[m.Completed=1]="Completed"})(d||(e.UsedValueState=d={})),e.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class E{constructor({prefixes:$,parent:_}={}){this._names={},this._prefixes=$,this._parent=_}toName($){return $ instanceof n.Name?$:this.name($)}name($){return new n.Name(this._newName($))}_newName($){const _=this._names[$]||this._nameGroup($);return`${$}${_.index++}`}_nameGroup($){var _,P;if(!((P=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||P===void 0)&&P.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}e.Scope=E;class o extends n.Name{constructor($,_){super(_),this.prefix=$}setValue($,{property:_,itemIndex:P}){this.value=$,this.scopePath=(0,n._)`.${new n.Name(_)}[${P}]`}}e.ValueScopeName=o;const f=(0,n._)`\n`;class l extends E{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?f:n.nil}}get(){return this._scope}name($){return new o($,this._newName($))}value($,_){var P;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName($),{prefix:y}=v,p=(P=_.key)!==null&&P!==void 0?P:_.ref;let w=this._values[y];if(w){const t=w.get(p);if(t)return t}else w=this._values[y]=new Map;w.set(p,v);const s=this._scope[y]||(this._scope[y]=[]),i=s.length;return s[i]=_.ref,v.setValue(_,{property:y,itemIndex:i}),v}getValue($,_){const P=this._values[$];if(P)return P.get(_)}scopeRefs($,_=this._values){return this._reduceValues(_,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,n._)`${$}${P.scopePath}`})}scopeCode($=this._values,_,P){return this._reduceValues($,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},_,P)}_reduceValues($,_,P={},v){let y=n.nil;for(const p in $){const w=$[p];if(!w)continue;const s=P[p]=P[p]||new Map;w.forEach(i=>{if(s.has(i))return;s.set(i,d.Started);let t=_(i);if(t){const a=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,n._)`${y}${a} ${i} = ${t};${this.opts._n}`}else if(t=v?.(i))y=(0,n._)`${y}${t}${this.opts._n}`;else throw new S(i);s.set(i,d.Completed)})}return y}}e.ValueScope=l})(Nt)),Nt}var zt;function J(){return zt||(zt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const n=ht(),S=Ut();var d=ht();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return d.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return d.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return d.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}});var E=Ut();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return E.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return E.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return E.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return E.varKinds}}),e.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class o{optimizeNodes(){return this}optimizeNames(u,b){return this}}class f extends o{constructor(u,b,I){super(),this.varKind=u,this.name=b,this.rhs=I}render({es5:u,_n:b}){const I=u?S.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${U};`+b}optimizeNames(u,b){if(u[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,u,b)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class l extends o{constructor(u,b,I){super(),this.lhs=u,this.rhs=b,this.sideEffects=I}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,b){if(!(this.lhs instanceof n.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,u,b),this}get names(){const u=this.lhs instanceof n.Name?{}:{...this.lhs.names};return K(u,this.rhs)}}class m extends l{constructor(u,b,I,U){super(u,I,U),this.op=b}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class $ extends o{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class _ extends o{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class P extends o{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class v extends o{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,b){return this.code=B(this.code,u,b),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class y extends o{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((b,I)=>b+I.render(u),"")}optimizeNodes(){const{nodes:u}=this;let b=u.length;for(;b--;){const I=u[b].optimizeNodes();Array.isArray(I)?u.splice(b,1,...I):I?u[b]=I:u.splice(b,1)}return u.length>0?this:void 0}optimizeNames(u,b){const{nodes:I}=this;let U=I.length;for(;U--;){const F=I[U];F.optimizeNames(u,b)||(x(u,F.names),I.splice(U,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((u,b)=>L(u,b.names),{})}}class p extends y{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class w extends y{}class s extends p{}s.kind="else";class i extends p{constructor(u,b){super(b),this.condition=u}render(u){let b=`if(${this.condition})`+super.render(u);return this.else&&(b+="else "+this.else.render(u)),b}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let b=this.else;if(b){const I=b.optimizeNodes();b=this.else=Array.isArray(I)?new s(I):I}if(b)return u===!1?b instanceof i?b:b.nodes:this.nodes.length?this:new i(de(u),b instanceof i?[b]:b.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,b){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(u,b),!!(super.optimizeNames(u,b)||this.else))return this.condition=B(this.condition,u,b),this}get names(){const u=super.names;return K(u,this.condition),this.else&&L(u,this.else.names),u}}i.kind="if";class t extends p{}t.kind="for";class a extends t{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,b){if(super.optimizeNames(u,b))return this.iteration=B(this.iteration,u,b),this}get names(){return L(super.names,this.iteration.names)}}class h extends t{constructor(u,b,I,U){super(),this.varKind=u,this.name=b,this.from=I,this.to=U}render(u){const b=u.es5?S.varKinds.var:this.varKind,{name:I,from:U,to:F}=this;return`for(${b} ${I}=${U}; ${I}<${F}; ${I}++)`+super.render(u)}get names(){const u=K(super.names,this.from);return K(u,this.to)}}class r extends t{constructor(u,b,I,U){super(),this.loop=u,this.varKind=b,this.name=I,this.iterable=U}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,b){if(super.optimizeNames(u,b))return this.iterable=B(this.iterable,u,b),this}get names(){return L(super.names,this.iterable.names)}}class c extends p{constructor(u,b,I){super(),this.name=u,this.args=b,this.async=I}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}c.kind="func";class g extends y{render(u){return"return "+super.render(u)}}g.kind="return";class j extends p{render(u){let b="try"+super.render(u);return this.catch&&(b+=this.catch.render(u)),this.finally&&(b+=this.finally.render(u)),b}optimizeNodes(){var u,b;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(b=this.finally)===null||b===void 0||b.optimizeNodes(),this}optimizeNames(u,b){var I,U;return super.optimizeNames(u,b),(I=this.catch)===null||I===void 0||I.optimizeNames(u,b),(U=this.finally)===null||U===void 0||U.optimizeNames(u,b),this}get names(){const u=super.names;return this.catch&&L(u,this.catch.names),this.finally&&L(u,this.finally.names),u}}class C extends p{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}C.kind="catch";class D extends p{render(u){return"finally"+super.render(u)}}D.kind="finally";class V{constructor(u,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?`
`:""},this._extScope=u,this._scope=new S.Scope({parent:u}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,b){const I=this._extScope.value(u,b);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(u,b){return this._extScope.getValue(u,b)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,b,I,U){const F=this._scope.toName(b);return I!==void 0&&U&&(this._constants[F.str]=I),this._leafNode(new f(u,F,I)),F}const(u,b,I){return this._def(S.varKinds.const,u,b,I)}let(u,b,I){return this._def(S.varKinds.let,u,b,I)}var(u,b,I){return this._def(S.varKinds.var,u,b,I)}assign(u,b,I){return this._leafNode(new l(u,b,I))}add(u,b){return this._leafNode(new m(u,e.operators.ADD,b))}code(u){return typeof u=="function"?u():u!==n.nil&&this._leafNode(new v(u)),this}object(...u){const b=["{"];for(const[I,U]of u)b.length>1&&b.push(","),b.push(I),(I!==U||this.opts.es5)&&(b.push(":"),(0,n.addCodeArg)(b,U));return b.push("}"),new n._Code(b)}if(u,b,I){if(this._blockNode(new i(u)),b&&I)this.code(b).else().code(I).endIf();else if(b)this.code(b).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new i(u))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(i,s)}_for(u,b){return this._blockNode(u),b&&this.code(b).endFor(),this}for(u,b){return this._for(new a(u),b)}forRange(u,b,I,U,F=this.opts.es5?S.varKinds.var:S.varKinds.let){const X=this._scope.toName(u);return this._for(new h(F,X,b,I),()=>U(X))}forOf(u,b,I,U=S.varKinds.const){const F=this._scope.toName(u);if(this.opts.es5){const X=b instanceof n.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,n._)`${X}.length`,W=>{this.var(F,(0,n._)`${X}[${W}]`),I(F)})}return this._for(new r("of",U,F,b),()=>I(F))}forIn(u,b,I,U=this.opts.es5?S.varKinds.var:S.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,n._)`Object.keys(${b})`,I);const F=this._scope.toName(u);return this._for(new r("in",U,F,b),()=>I(F))}endFor(){return this._endBlockNode(t)}label(u){return this._leafNode(new $(u))}break(u){return this._leafNode(new _(u))}return(u){const b=new g;if(this._blockNode(b),this.code(u),b.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(g)}try(u,b,I){if(!b&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new j;if(this._blockNode(U),this.code(u),b){const F=this.name("e");this._currNode=U.catch=new C(F),b(F)}return I&&(this._currNode=U.finally=new D,this.code(I)),this._endBlockNode(C,D)}throw(u){return this._leafNode(new P(u))}block(u,b){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(b),this}endBlock(u){const b=this._blockStarts.pop();if(b===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-b;if(I<0||u!==void 0&&I!==u)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${u} expected`);return this._nodes.length=b,this}func(u,b=n.nil,I,U){return this._blockNode(new c(u,b,I)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(c)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,b){const I=this._currNode;if(I instanceof u||b&&I instanceof b)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${b?`${u.kind}/${b.kind}`:u.kind}"`)}_elseNode(u){const b=this._currNode;if(!(b instanceof i))throw new Error('CodeGen: "else" without "if"');return this._currNode=b.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const b=this._nodes;b[b.length-1]=u}}e.CodeGen=V;function L(O,u){for(const b in u)O[b]=(O[b]||0)+(u[b]||0);return O}function K(O,u){return u instanceof n._CodeOrName?L(O,u.names):O}function B(O,u,b){if(O instanceof n.Name)return I(O);if(!U(O))return O;return new n._Code(O._items.reduce((F,X)=>(X instanceof n.Name&&(X=I(X)),X instanceof n._Code?F.push(...X._items):F.push(X),F),[]));function I(F){const X=b[F.str];return X===void 0||u[F.str]!==1?F:(delete u[F.str],X)}function U(F){return F instanceof n._Code&&F._items.some(X=>X instanceof n.Name&&u[X.str]===1&&b[X.str]!==void 0)}}function x(O,u){for(const b in u)O[b]=(O[b]||0)-(u[b]||0)}function de(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,n._)`!${T(O)}`}e.not=de;const fe=R(e.operators.AND);function Z(...O){return O.reduce(fe)}e.and=Z;const ye=R(e.operators.OR);function A(...O){return O.reduce(ye)}e.or=A;function R(O){return(u,b)=>u===n.nil?b:b===n.nil?u:(0,n._)`${T(u)} ${O} ${T(b)}`}function T(O){return O instanceof n.Name?O:(0,n._)`(${O})`}})(St)),St}var H={},Ft;function Q(){if(Ft)return H;Ft=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=J(),n=ht();function S(r){const c={};for(const g of r)c[g]=!0;return c}H.toHash=S;function d(r,c){return typeof c=="boolean"?c:Object.keys(c).length===0?!0:(E(r,c),!o(c,r.self.RULES.all))}H.alwaysValidSchema=d;function E(r,c=r.schema){const{opts:g,self:j}=r;if(!g.strictSchema||typeof c=="boolean")return;const C=j.RULES.keywords;for(const D in c)C[D]||h(r,`unknown keyword: "${D}"`)}H.checkUnknownRules=E;function o(r,c){if(typeof r=="boolean")return!r;for(const g in r)if(c[g])return!0;return!1}H.schemaHasRules=o;function f(r,c){if(typeof r=="boolean")return!r;for(const g in r)if(g!=="$ref"&&c.all[g])return!0;return!1}H.schemaHasRulesButRef=f;function l({topSchemaRef:r,schemaPath:c},g,j,C){if(!C){if(typeof g=="number"||typeof g=="boolean")return g;if(typeof g=="string")return(0,e._)`${g}`}return(0,e._)`${r}${c}${(0,e.getProperty)(j)}`}H.schemaRefOrVal=l;function m(r){return P(decodeURIComponent(r))}H.unescapeFragment=m;function $(r){return encodeURIComponent(_(r))}H.escapeFragment=$;function _(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=_;function P(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=P;function v(r,c){if(Array.isArray(r))for(const g of r)c(g);else c(r)}H.eachItem=v;function y({mergeNames:r,mergeToName:c,mergeValues:g,resultToName:j}){return(C,D,V,L)=>{const K=V===void 0?D:V instanceof e.Name?(D instanceof e.Name?r(C,D,V):c(C,D,V),V):D instanceof e.Name?(c(C,V,D),D):g(D,V);return L===e.Name&&!(K instanceof e.Name)?j(C,K):K}}H.mergeEvaluated={props:y({mergeNames:(r,c,g)=>r.if((0,e._)`${g} !== true && ${c} !== undefined`,()=>{r.if((0,e._)`${c} === true`,()=>r.assign(g,!0),()=>r.assign(g,(0,e._)`${g} || {}`).code((0,e._)`Object.assign(${g}, ${c})`))}),mergeToName:(r,c,g)=>r.if((0,e._)`${g} !== true`,()=>{c===!0?r.assign(g,!0):(r.assign(g,(0,e._)`${g} || {}`),w(r,g,c))}),mergeValues:(r,c)=>r===!0?!0:{...r,...c},resultToName:p}),items:y({mergeNames:(r,c,g)=>r.if((0,e._)`${g} !== true && ${c} !== undefined`,()=>r.assign(g,(0,e._)`${c} === true ? true : ${g} > ${c} ? ${g} : ${c}`)),mergeToName:(r,c,g)=>r.if((0,e._)`${g} !== true`,()=>r.assign(g,c===!0?!0:(0,e._)`${g} > ${c} ? ${g} : ${c}`)),mergeValues:(r,c)=>r===!0?!0:Math.max(r,c),resultToName:(r,c)=>r.var("items",c)})};function p(r,c){if(c===!0)return r.var("props",!0);const g=r.var("props",(0,e._)`{}`);return c!==void 0&&w(r,g,c),g}H.evaluatedPropsToName=p;function w(r,c,g){Object.keys(g).forEach(j=>r.assign((0,e._)`${c}${(0,e.getProperty)(j)}`,!0))}H.setEvaluated=w;const s={};function i(r,c){return r.scopeValue("func",{ref:c,code:s[c.code]||(s[c.code]=new n._Code(c.code))})}H.useFunc=i;var t;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(t||(H.Type=t={}));function a(r,c,g){if(r instanceof e.Name){const j=c===t.Num;return g?j?(0,e._)`"[" + ${r} + "]"`:(0,e._)`"['" + ${r} + "']"`:j?(0,e._)`"/" + ${r}`:(0,e._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return g?(0,e.getProperty)(r).toString():"/"+_(r)}H.getErrorPath=a;function h(r,c,g=r.opts.strictSchema){if(g){if(c=`strict mode: ${c}`,g===!0)throw new Error(c);r.self.logger.warn(c)}}return H.checkStrictMode=h,H}var je={},Kt;function ve(){if(Kt)return je;Kt=1,Object.defineProperty(je,"__esModule",{value:!0});const e=J(),n={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return je.default=n,je}var Lt;function pt(){return Lt||(Lt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const n=J(),S=Q(),d=ve();e.keywordError={message:({keyword:s})=>(0,n.str)`must pass "${s}" keyword validation`},e.keyword$DataError={message:({keyword:s,schemaType:i})=>i?(0,n.str)`"${s}" keyword must be ${i} ($data)`:(0,n.str)`"${s}" keyword is invalid ($data)`};function E(s,i=e.keywordError,t,a){const{it:h}=s,{gen:r,compositeRule:c,allErrors:g}=h,j=P(s,i,t);a??(c||g)?m(r,j):$(h,(0,n._)`[${j}]`)}e.reportError=E;function o(s,i=e.keywordError,t){const{it:a}=s,{gen:h,compositeRule:r,allErrors:c}=a,g=P(s,i,t);m(h,g),r||c||$(a,d.default.vErrors)}e.reportExtraError=o;function f(s,i){s.assign(d.default.errors,i),s.if((0,n._)`${d.default.vErrors} !== null`,()=>s.if(i,()=>s.assign((0,n._)`${d.default.vErrors}.length`,i),()=>s.assign(d.default.vErrors,null)))}e.resetErrorsCount=f;function l({gen:s,keyword:i,schemaValue:t,data:a,errsCount:h,it:r}){if(h===void 0)throw new Error("ajv implementation error");const c=s.name("err");s.forRange("i",h,d.default.errors,g=>{s.const(c,(0,n._)`${d.default.vErrors}[${g}]`),s.if((0,n._)`${c}.instancePath === undefined`,()=>s.assign((0,n._)`${c}.instancePath`,(0,n.strConcat)(d.default.instancePath,r.errorPath))),s.assign((0,n._)`${c}.schemaPath`,(0,n.str)`${r.errSchemaPath}/${i}`),r.opts.verbose&&(s.assign((0,n._)`${c}.schema`,t),s.assign((0,n._)`${c}.data`,a))})}e.extendErrors=l;function m(s,i){const t=s.const("err",i);s.if((0,n._)`${d.default.vErrors} === null`,()=>s.assign(d.default.vErrors,(0,n._)`[${t}]`),(0,n._)`${d.default.vErrors}.push(${t})`),s.code((0,n._)`${d.default.errors}++`)}function $(s,i){const{gen:t,validateName:a,schemaEnv:h}=s;h.$async?t.throw((0,n._)`new ${s.ValidationError}(${i})`):(t.assign((0,n._)`${a}.errors`,i),t.return(!1))}const _={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function P(s,i,t){const{createErrors:a}=s.it;return a===!1?(0,n._)`{}`:v(s,i,t)}function v(s,i,t={}){const{gen:a,it:h}=s,r=[y(h,t),p(s,t)];return w(s,i,r),a.object(...r)}function y({errorPath:s},{instancePath:i}){const t=i?(0,n.str)`${s}${(0,S.getErrorPath)(i,S.Type.Str)}`:s;return[d.default.instancePath,(0,n.strConcat)(d.default.instancePath,t)]}function p({keyword:s,it:{errSchemaPath:i}},{schemaPath:t,parentSchema:a}){let h=a?i:(0,n.str)`${i}/${s}`;return t&&(h=(0,n.str)`${h}${(0,S.getErrorPath)(t,S.Type.Str)}`),[_.schemaPath,h]}function w(s,{params:i,message:t},a){const{keyword:h,data:r,schemaValue:c,it:g}=s,{opts:j,propertyName:C,topSchemaRef:D,schemaPath:V}=g;a.push([_.keyword,h],[_.params,typeof i=="function"?i(s):i||(0,n._)`{}`]),j.messages&&a.push([_.message,typeof t=="function"?t(s):t]),j.verbose&&a.push([_.schema,c],[_.parentSchema,(0,n._)`${D}${V}`],[d.default.data,r]),C&&a.push([_.propertyName,C])}})(Et)),Et}var Ht;function an(){if(Ht)return ge;Ht=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.boolOrEmptySchema=ge.topBoolOrEmptySchema=void 0;const e=pt(),n=J(),S=ve(),d={message:"boolean schema is false"};function E(l){const{gen:m,schema:$,validateName:_}=l;$===!1?f(l,!1):typeof $=="object"&&$.$async===!0?m.return(S.default.data):(m.assign((0,n._)`${_}.errors`,null),m.return(!0))}ge.topBoolOrEmptySchema=E;function o(l,m){const{gen:$,schema:_}=l;_===!1?($.var(m,!1),f(l)):$.var(m,!0)}ge.boolOrEmptySchema=o;function f(l,m){const{gen:$,data:_}=l,P={gen:$,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,e.reportError)(P,d,void 0,m)}return ge}var re={},$e={},Gt;function Xr(){if(Gt)return $e;Gt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.getRules=$e.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],n=new Set(e);function S(E){return typeof E=="string"&&n.has(E)}$e.isJSONType=S;function d(){const E={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...E,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},E.number,E.string,E.array,E.object],post:{rules:[]},all:{},keywords:{}}}return $e.getRules=d,$e}var me={},Jt;function Yr(){if(Jt)return me;Jt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:d,self:E},o){const f=E.RULES.types[o];return f&&f!==!0&&n(d,f)}me.schemaHasRulesForType=e;function n(d,E){return E.rules.some(o=>S(d,o))}me.shouldUseGroup=n;function S(d,E){var o;return d[E.keyword]!==void 0||((o=E.definition.implements)===null||o===void 0?void 0:o.some(f=>d[f]!==void 0))}return me.shouldUseRule=S,me}var Wt;function mt(){if(Wt)return re;Wt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=Xr(),n=Yr(),S=pt(),d=J(),E=Q();var o;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(o||(re.DataType=o={}));function f(t){const a=l(t.type);if(a.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!a.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&a.push("null")}return a}re.getSchemaTypes=f;function l(t){const a=Array.isArray(t)?t:t?[t]:[];if(a.every(e.isJSONType))return a;throw new Error("type must be JSONType or JSONType[]: "+a.join(","))}re.getJSONTypes=l;function m(t,a){const{gen:h,data:r,opts:c}=t,g=_(a,c.coerceTypes),j=a.length>0&&!(g.length===0&&a.length===1&&(0,n.schemaHasRulesForType)(t,a[0]));if(j){const C=p(a,r,c.strictNumbers,o.Wrong);h.if(C,()=>{g.length?P(t,a,g):s(t)})}return j}re.coerceAndCheckDataType=m;const $=new Set(["string","number","integer","boolean","null"]);function _(t,a){return a?t.filter(h=>$.has(h)||a==="array"&&h==="array"):[]}function P(t,a,h){const{gen:r,data:c,opts:g}=t,j=r.let("dataType",(0,d._)`typeof ${c}`),C=r.let("coerced",(0,d._)`undefined`);g.coerceTypes==="array"&&r.if((0,d._)`${j} == 'object' && Array.isArray(${c}) && ${c}.length == 1`,()=>r.assign(c,(0,d._)`${c}[0]`).assign(j,(0,d._)`typeof ${c}`).if(p(a,c,g.strictNumbers),()=>r.assign(C,c))),r.if((0,d._)`${C} !== undefined`);for(const V of h)($.has(V)||V==="array"&&g.coerceTypes==="array")&&D(V);r.else(),s(t),r.endIf(),r.if((0,d._)`${C} !== undefined`,()=>{r.assign(c,C),v(t,C)});function D(V){switch(V){case"string":r.elseIf((0,d._)`${j} == "number" || ${j} == "boolean"`).assign(C,(0,d._)`"" + ${c}`).elseIf((0,d._)`${c} === null`).assign(C,(0,d._)`""`);return;case"number":r.elseIf((0,d._)`${j} == "boolean" || ${c} === null
              || (${j} == "string" && ${c} && ${c} == +${c})`).assign(C,(0,d._)`+${c}`);return;case"integer":r.elseIf((0,d._)`${j} === "boolean" || ${c} === null
              || (${j} === "string" && ${c} && ${c} == +${c} && !(${c} % 1))`).assign(C,(0,d._)`+${c}`);return;case"boolean":r.elseIf((0,d._)`${c} === "false" || ${c} === 0 || ${c} === null`).assign(C,!1).elseIf((0,d._)`${c} === "true" || ${c} === 1`).assign(C,!0);return;case"null":r.elseIf((0,d._)`${c} === "" || ${c} === 0 || ${c} === false`),r.assign(C,null);return;case"array":r.elseIf((0,d._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${c} === null`).assign(C,(0,d._)`[${c}]`)}}}function v({gen:t,parentData:a,parentDataProperty:h},r){t.if((0,d._)`${a} !== undefined`,()=>t.assign((0,d._)`${a}[${h}]`,r))}function y(t,a,h,r=o.Correct){const c=r===o.Correct?d.operators.EQ:d.operators.NEQ;let g;switch(t){case"null":return(0,d._)`${a} ${c} null`;case"array":g=(0,d._)`Array.isArray(${a})`;break;case"object":g=(0,d._)`${a} && typeof ${a} == "object" && !Array.isArray(${a})`;break;case"integer":g=j((0,d._)`!(${a} % 1) && !isNaN(${a})`);break;case"number":g=j();break;default:return(0,d._)`typeof ${a} ${c} ${t}`}return r===o.Correct?g:(0,d.not)(g);function j(C=d.nil){return(0,d.and)((0,d._)`typeof ${a} == "number"`,C,h?(0,d._)`isFinite(${a})`:d.nil)}}re.checkDataType=y;function p(t,a,h,r){if(t.length===1)return y(t[0],a,h,r);let c;const g=(0,E.toHash)(t);if(g.array&&g.object){const j=(0,d._)`typeof ${a} != "object"`;c=g.null?j:(0,d._)`!${a} || ${j}`,delete g.null,delete g.array,delete g.object}else c=d.nil;g.number&&delete g.integer;for(const j in g)c=(0,d.and)(c,y(j,a,h,r));return c}re.checkDataTypes=p;const w={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:a})=>typeof t=="string"?(0,d._)`{type: ${t}}`:(0,d._)`{type: ${a}}`};function s(t){const a=i(t);(0,S.reportError)(a,w)}re.reportTypeError=s;function i(t){const{gen:a,data:h,schema:r}=t,c=(0,E.schemaRefOrVal)(t,r,"type");return{gen:a,keyword:"type",data:h,schema:r.type,schemaCode:c,schemaValue:c,parentSchema:r,params:{},it:t}}return re}var Ne={},Bt;function on(){if(Bt)return Ne;Bt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=J(),n=Q();function S(E,o){const{properties:f,items:l}=E.schema;if(o==="object"&&f)for(const m in f)d(E,m,f[m].default);else o==="array"&&Array.isArray(l)&&l.forEach((m,$)=>d(E,$,m.default))}Ne.assignDefaults=S;function d(E,o,f){const{gen:l,compositeRule:m,data:$,opts:_}=E;if(f===void 0)return;const P=(0,e._)`${$}${(0,e.getProperty)(o)}`;if(m){(0,n.checkStrictMode)(E,`default is ignored for: ${P}`);return}let v=(0,e._)`${P} === undefined`;_.useDefaults==="empty"&&(v=(0,e._)`${v} || ${P} === null || ${P} === ""`),l.if(v,(0,e._)`${P} = ${(0,e.stringify)(f)}`)}return Ne}var ce={},Y={},Qt;function le(){if(Qt)return Y;Qt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=J(),n=Q(),S=ve(),d=Q();function E(t,a){const{gen:h,data:r,it:c}=t;h.if(_(h,r,a,c.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${a}`},!0),t.error()})}Y.checkReportMissingProp=E;function o({gen:t,data:a,it:{opts:h}},r,c){return(0,e.or)(...r.map(g=>(0,e.and)(_(t,a,g,h.ownProperties),(0,e._)`${c} = ${g}`)))}Y.checkMissingProp=o;function f(t,a){t.setParams({missingProperty:a},!0),t.error()}Y.reportMissingProp=f;function l(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=l;function m(t,a,h){return(0,e._)`${l(t)}.call(${a}, ${h})`}Y.isOwnProperty=m;function $(t,a,h,r){const c=(0,e._)`${a}${(0,e.getProperty)(h)} !== undefined`;return r?(0,e._)`${c} && ${m(t,a,h)}`:c}Y.propertyInData=$;function _(t,a,h,r){const c=(0,e._)`${a}${(0,e.getProperty)(h)} === undefined`;return r?(0,e.or)(c,(0,e.not)(m(t,a,h))):c}Y.noPropertyInData=_;function P(t){return t?Object.keys(t).filter(a=>a!=="__proto__"):[]}Y.allSchemaProperties=P;function v(t,a){return P(a).filter(h=>!(0,n.alwaysValidSchema)(t,a[h]))}Y.schemaProperties=v;function y({schemaCode:t,data:a,it:{gen:h,topSchemaRef:r,schemaPath:c,errorPath:g},it:j},C,D,V){const L=V?(0,e._)`${t}, ${a}, ${r}${c}`:a,K=[[S.default.instancePath,(0,e.strConcat)(S.default.instancePath,g)],[S.default.parentData,j.parentData],[S.default.parentDataProperty,j.parentDataProperty],[S.default.rootData,S.default.rootData]];j.opts.dynamicRef&&K.push([S.default.dynamicAnchors,S.default.dynamicAnchors]);const B=(0,e._)`${L}, ${h.object(...K)}`;return D!==e.nil?(0,e._)`${C}.call(${D}, ${B})`:(0,e._)`${C}(${B})`}Y.callValidateCode=y;const p=(0,e._)`new RegExp`;function w({gen:t,it:{opts:a}},h){const r=a.unicodeRegExp?"u":"",{regExp:c}=a.code,g=c(h,r);return t.scopeValue("pattern",{key:g.toString(),ref:g,code:(0,e._)`${c.code==="new RegExp"?p:(0,d.useFunc)(t,c)}(${h}, ${r})`})}Y.usePattern=w;function s(t){const{gen:a,data:h,keyword:r,it:c}=t,g=a.name("valid");if(c.allErrors){const C=a.let("valid",!0);return j(()=>a.assign(C,!1)),C}return a.var(g,!0),j(()=>a.break()),g;function j(C){const D=a.const("len",(0,e._)`${h}.length`);a.forRange("i",0,D,V=>{t.subschema({keyword:r,dataProp:V,dataPropType:n.Type.Num},g),a.if((0,e.not)(g),C)})}}Y.validateArray=s;function i(t){const{gen:a,schema:h,keyword:r,it:c}=t;if(!Array.isArray(h))throw new Error("ajv implementation error");if(h.some(D=>(0,n.alwaysValidSchema)(c,D))&&!c.opts.unevaluated)return;const j=a.let("valid",!1),C=a.name("_valid");a.block(()=>h.forEach((D,V)=>{const L=t.subschema({keyword:r,schemaProp:V,compositeRule:!0},C);a.assign(j,(0,e._)`${j} || ${C}`),t.mergeValidEvaluated(L,C)||a.if((0,e.not)(j))})),t.result(j,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=i,Y}var Xt;function un(){if(Xt)return ce;Xt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.validateKeywordUsage=ce.validSchemaType=ce.funcKeywordCode=ce.macroKeywordCode=void 0;const e=J(),n=ve(),S=le(),d=pt();function E(v,y){const{gen:p,keyword:w,schema:s,parentSchema:i,it:t}=v,a=y.macro.call(t.self,s,i,t),h=$(p,w,a);t.opts.validateSchema!==!1&&t.self.validateSchema(a,!0);const r=p.name("valid");v.subschema({schema:a,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${w}`,topSchemaRef:h,compositeRule:!0},r),v.pass(r,()=>v.error(!0))}ce.macroKeywordCode=E;function o(v,y){var p;const{gen:w,keyword:s,schema:i,parentSchema:t,$data:a,it:h}=v;m(h,y);const r=!a&&y.compile?y.compile.call(h.self,i,t,h):y.validate,c=$(w,s,r),g=w.let("valid");v.block$data(g,j),v.ok((p=y.valid)!==null&&p!==void 0?p:g);function j(){if(y.errors===!1)V(),y.modifying&&f(v),L(()=>v.error());else{const K=y.async?C():D();y.modifying&&f(v),L(()=>l(v,K))}}function C(){const K=w.let("ruleErrs",null);return w.try(()=>V((0,e._)`await `),B=>w.assign(g,!1).if((0,e._)`${B} instanceof ${h.ValidationError}`,()=>w.assign(K,(0,e._)`${B}.errors`),()=>w.throw(B))),K}function D(){const K=(0,e._)`${c}.errors`;return w.assign(K,null),V(e.nil),K}function V(K=y.async?(0,e._)`await `:e.nil){const B=h.opts.passContext?n.default.this:n.default.self,x=!("compile"in y&&!a||y.schema===!1);w.assign(g,(0,e._)`${K}${(0,S.callValidateCode)(v,c,B,x)}`,y.modifying)}function L(K){var B;w.if((0,e.not)((B=y.valid)!==null&&B!==void 0?B:g),K)}}ce.funcKeywordCode=o;function f(v){const{gen:y,data:p,it:w}=v;y.if(w.parentData,()=>y.assign(p,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function l(v,y){const{gen:p}=v;p.if((0,e._)`Array.isArray(${y})`,()=>{p.assign(n.default.vErrors,(0,e._)`${n.default.vErrors} === null ? ${y} : ${n.default.vErrors}.concat(${y})`).assign(n.default.errors,(0,e._)`${n.default.vErrors}.length`),(0,d.extendErrors)(v)},()=>v.error())}function m({schemaEnv:v},y){if(y.async&&!v.$async)throw new Error("async keyword in sync schema")}function $(v,y,p){if(p===void 0)throw new Error(`keyword "${y}" failed to compile`);return v.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function _(v,y,p=!1){return!y.length||y.some(w=>w==="array"?Array.isArray(v):w==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==w||p&&typeof v>"u")}ce.validSchemaType=_;function P({schema:v,opts:y,self:p,errSchemaPath:w},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const t=s.dependencies;if(t?.some(a=>!Object.prototype.hasOwnProperty.call(v,a)))throw new Error(`parent schema must have dependencies of ${i}: ${t.join(",")}`);if(s.validateSchema&&!s.validateSchema(v[i])){const h=`keyword "${i}" value is invalid at path "${w}": `+p.errorsText(s.validateSchema.errors);if(y.validateSchema==="log")p.logger.error(h);else throw new Error(h)}}return ce.validateKeywordUsage=P,ce}var pe={},Yt;function cn(){if(Yt)return pe;Yt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=J(),n=Q();function S(o,{keyword:f,schemaProp:l,schema:m,schemaPath:$,errSchemaPath:_,topSchemaRef:P}){if(f!==void 0&&m!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(f!==void 0){const v=o.schema[f];return l===void 0?{schema:v,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(f)}`,errSchemaPath:`${o.errSchemaPath}/${f}`}:{schema:v[l],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(f)}${(0,e.getProperty)(l)}`,errSchemaPath:`${o.errSchemaPath}/${f}/${(0,n.escapeFragment)(l)}`}}if(m!==void 0){if($===void 0||_===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:m,schemaPath:$,topSchemaRef:P,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=S;function d(o,f,{dataProp:l,dataPropType:m,data:$,dataTypes:_,propertyName:P}){if($!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=f;if(l!==void 0){const{errorPath:p,dataPathArr:w,opts:s}=f,i=v.let("data",(0,e._)`${f.data}${(0,e.getProperty)(l)}`,!0);y(i),o.errorPath=(0,e.str)`${p}${(0,n.getErrorPath)(l,m,s.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${l}`,o.dataPathArr=[...w,o.parentDataProperty]}if($!==void 0){const p=$ instanceof e.Name?$:v.let("data",$,!0);y(p),P!==void 0&&(o.propertyName=P)}_&&(o.dataTypes=_);function y(p){o.data=p,o.dataLevel=f.dataLevel+1,o.dataTypes=[],f.definedProperties=new Set,o.parentData=f.data,o.dataNames=[...f.dataNames,p]}}pe.extendSubschemaData=d;function E(o,{jtdDiscriminator:f,jtdMetadata:l,compositeRule:m,createErrors:$,allErrors:_}){m!==void 0&&(o.compositeRule=m),$!==void 0&&(o.createErrors=$),_!==void 0&&(o.allErrors=_),o.jtdDiscriminator=f,o.jtdMetadata=l}return pe.extendSubschemaMode=E,pe}var ne={},Rt,Zt;function Zr(){return Zt||(Zt=1,Rt=function e(n,S){if(n===S)return!0;if(n&&S&&typeof n=="object"&&typeof S=="object"){if(n.constructor!==S.constructor)return!1;var d,E,o;if(Array.isArray(n)){if(d=n.length,d!=S.length)return!1;for(E=d;E--!==0;)if(!e(n[E],S[E]))return!1;return!0}if(n.constructor===RegExp)return n.source===S.source&&n.flags===S.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===S.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===S.toString();if(o=Object.keys(n),d=o.length,d!==Object.keys(S).length)return!1;for(E=d;E--!==0;)if(!Object.prototype.hasOwnProperty.call(S,o[E]))return!1;for(E=d;E--!==0;){var f=o[E];if(!e(n[f],S[f]))return!1}return!0}return n!==n&&S!==S}),Rt}var kt={exports:{}},xt;function ln(){if(xt)return kt.exports;xt=1;var e=kt.exports=function(d,E,o){typeof E=="function"&&(o=E,E={}),o=E.cb||o;var f=typeof o=="function"?o:o.pre||function(){},l=o.post||function(){};n(E,f,l,d,"",d)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(d,E,o,f,l,m,$,_,P,v){if(f&&typeof f=="object"&&!Array.isArray(f)){E(f,l,m,$,_,P,v);for(var y in f){var p=f[y];if(Array.isArray(p)){if(y in e.arrayKeywords)for(var w=0;w<p.length;w++)n(d,E,o,p[w],l+"/"+y+"/"+w,m,l,y,f,w)}else if(y in e.propsKeywords){if(p&&typeof p=="object")for(var s in p)n(d,E,o,p[s],l+"/"+y+"/"+S(s),m,l,y,f,s)}else(y in e.keywords||d.allKeys&&!(y in e.skipKeywords))&&n(d,E,o,p,l+"/"+y,m,l,y,f)}o(f,l,m,$,_,P,v)}}function S(d){return d.replace(/~/g,"~0").replace(/\//g,"~1")}return kt.exports}var er;function yt(){if(er)return ne;er=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=Q(),n=Zr(),S=ln(),d=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function E(w,s=!0){return typeof w=="boolean"?!0:s===!0?!f(w):s?l(w)<=s:!1}ne.inlineRef=E;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f(w){for(const s in w){if(o.has(s))return!0;const i=w[s];if(Array.isArray(i)&&i.some(f)||typeof i=="object"&&f(i))return!0}return!1}function l(w){let s=0;for(const i in w){if(i==="$ref")return 1/0;if(s++,!d.has(i)&&(typeof w[i]=="object"&&(0,e.eachItem)(w[i],t=>s+=l(t)),s===1/0))return 1/0}return s}function m(w,s="",i){i!==!1&&(s=P(s));const t=w.parse(s);return $(w,t)}ne.getFullPath=m;function $(w,s){return w.serialize(s).split("#")[0]+"#"}ne._getFullPath=$;const _=/#\/?$/;function P(w){return w?w.replace(_,""):""}ne.normalizeId=P;function v(w,s,i){return i=P(i),w.resolve(s,i)}ne.resolveUrl=v;const y=/^[a-z_][-a-z0-9._]*$/i;function p(w,s){if(typeof w=="boolean")return{};const{schemaId:i,uriResolver:t}=this.opts,a=P(w[i]||s),h={"":a},r=m(t,a,!1),c={},g=new Set;return S(w,{allKeys:!0},(D,V,L,K)=>{if(K===void 0)return;const B=r+V;let x=h[K];typeof D[i]=="string"&&(x=de.call(this,D[i])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),h[V]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=P(x?ye(x,Z):Z),g.has(Z))throw C(Z);g.add(Z);let A=this.refs[Z];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?j(D,A.schema,Z):Z!==P(B)&&(Z[0]==="#"?(j(D,c[Z],Z),c[Z]=D):this.refs[Z]=B),Z}function fe(Z){if(typeof Z=="string"){if(!y.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),c;function j(D,V,L){if(V!==void 0&&!n(D,V))throw C(L)}function C(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=p,ne}var tr;function _t(){if(tr)return he;tr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=an(),n=mt(),S=Yr(),d=mt(),E=on(),o=un(),f=cn(),l=J(),m=ve(),$=yt(),_=Q(),P=pt();function v(N){if(r(N)&&(g(N),h(N))){s(N);return}y(N,()=>(0,e.topBoolOrEmptySchema)(N))}he.validateFunctionCode=v;function y({gen:N,validateName:k,schema:q,schemaEnv:M,opts:z},G){z.code.es5?N.func(k,(0,l._)`${m.default.data}, ${m.default.valCxt}`,M.$async,()=>{N.code((0,l._)`"use strict"; ${t(q,z)}`),w(N,z),N.code(G)}):N.func(k,(0,l._)`${m.default.data}, ${p(z)}`,M.$async,()=>N.code(t(q,z)).code(G))}function p(N){return(0,l._)`{${m.default.instancePath}="", ${m.default.parentData}, ${m.default.parentDataProperty}, ${m.default.rootData}=${m.default.data}${N.dynamicRef?(0,l._)`, ${m.default.dynamicAnchors}={}`:l.nil}}={}`}function w(N,k){N.if(m.default.valCxt,()=>{N.var(m.default.instancePath,(0,l._)`${m.default.valCxt}.${m.default.instancePath}`),N.var(m.default.parentData,(0,l._)`${m.default.valCxt}.${m.default.parentData}`),N.var(m.default.parentDataProperty,(0,l._)`${m.default.valCxt}.${m.default.parentDataProperty}`),N.var(m.default.rootData,(0,l._)`${m.default.valCxt}.${m.default.rootData}`),k.dynamicRef&&N.var(m.default.dynamicAnchors,(0,l._)`${m.default.valCxt}.${m.default.dynamicAnchors}`)},()=>{N.var(m.default.instancePath,(0,l._)`""`),N.var(m.default.parentData,(0,l._)`undefined`),N.var(m.default.parentDataProperty,(0,l._)`undefined`),N.var(m.default.rootData,m.default.data),k.dynamicRef&&N.var(m.default.dynamicAnchors,(0,l._)`{}`)})}function s(N){const{schema:k,opts:q,gen:M}=N;y(N,()=>{q.$comment&&k.$comment&&K(N),D(N),M.let(m.default.vErrors,null),M.let(m.default.errors,0),q.unevaluated&&i(N),j(N),B(N)})}function i(N){const{gen:k,validateName:q}=N;N.evaluated=k.const("evaluated",(0,l._)`${q}.evaluated`),k.if((0,l._)`${N.evaluated}.dynamicProps`,()=>k.assign((0,l._)`${N.evaluated}.props`,(0,l._)`undefined`)),k.if((0,l._)`${N.evaluated}.dynamicItems`,()=>k.assign((0,l._)`${N.evaluated}.items`,(0,l._)`undefined`))}function t(N,k){const q=typeof N=="object"&&N[k.schemaId];return q&&(k.code.source||k.code.process)?(0,l._)`/*# sourceURL=${q} */`:l.nil}function a(N,k){if(r(N)&&(g(N),h(N))){c(N,k);return}(0,e.boolOrEmptySchema)(N,k)}function h({schema:N,self:k}){if(typeof N=="boolean")return!N;for(const q in N)if(k.RULES.all[q])return!0;return!1}function r(N){return typeof N.schema!="boolean"}function c(N,k){const{schema:q,gen:M,opts:z}=N;z.$comment&&q.$comment&&K(N),V(N),L(N);const G=M.const("_errs",m.default.errors);j(N,G),M.var(k,(0,l._)`${G} === ${m.default.errors}`)}function g(N){(0,_.checkUnknownRules)(N),C(N)}function j(N,k){if(N.opts.jtd)return de(N,[],!1,k);const q=(0,n.getSchemaTypes)(N.schema),M=(0,n.coerceAndCheckDataType)(N,q);de(N,q,!M,k)}function C(N){const{schema:k,errSchemaPath:q,opts:M,self:z}=N;k.$ref&&M.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(k,z.RULES)&&z.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function D(N){const{schema:k,opts:q}=N;k.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,_.checkStrictMode)(N,"default is ignored in the schema root")}function V(N){const k=N.schema[N.opts.schemaId];k&&(N.baseId=(0,$.resolveUrl)(N.opts.uriResolver,N.baseId,k))}function L(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:N,schemaEnv:k,schema:q,errSchemaPath:M,opts:z}){const G=q.$comment;if(z.$comment===!0)N.code((0,l._)`${m.default.self}.logger.log(${G})`);else if(typeof z.$comment=="function"){const ee=(0,l.str)`${M}/$comment`,ue=N.scopeValue("root",{ref:k.root});N.code((0,l._)`${m.default.self}.opts.$comment(${G}, ${ee}, ${ue}.schema)`)}}function B(N){const{gen:k,schemaEnv:q,validateName:M,ValidationError:z,opts:G}=N;q.$async?k.if((0,l._)`${m.default.errors} === 0`,()=>k.return(m.default.data),()=>k.throw((0,l._)`new ${z}(${m.default.vErrors})`)):(k.assign((0,l._)`${M}.errors`,m.default.vErrors),G.unevaluated&&x(N),k.return((0,l._)`${m.default.errors} === 0`))}function x({gen:N,evaluated:k,props:q,items:M}){q instanceof l.Name&&N.assign((0,l._)`${k}.props`,q),M instanceof l.Name&&N.assign((0,l._)`${k}.items`,M)}function de(N,k,q,M){const{gen:z,schema:G,data:ee,allErrors:ue,opts:se,self:ae}=N,{RULES:te}=ae;if(G.$ref&&(se.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(G,te))){z.block(()=>U(N,"$ref",te.all.$ref.definition));return}se.jtd||Z(N,k),z.block(()=>{for(const ie of te.rules)be(ie);be(te.post)});function be(ie){(0,S.shouldUseGroup)(G,ie)&&(ie.type?(z.if((0,d.checkDataType)(ie.type,ee,se.strictNumbers)),fe(N,ie),k.length===1&&k[0]===ie.type&&q&&(z.else(),(0,d.reportTypeError)(N)),z.endIf()):fe(N,ie),ue||z.if((0,l._)`${m.default.errors} === ${M||0}`))}}function fe(N,k){const{gen:q,schema:M,opts:{useDefaults:z}}=N;z&&(0,E.assignDefaults)(N,k.type),q.block(()=>{for(const G of k.rules)(0,S.shouldUseRule)(M,G)&&U(N,G.keyword,G.definition,k.type)})}function Z(N,k){N.schemaEnv.meta||!N.opts.strictTypes||(ye(N,k),N.opts.allowUnionTypes||A(N,k),R(N,N.dataTypes))}function ye(N,k){if(k.length){if(!N.dataTypes.length){N.dataTypes=k;return}k.forEach(q=>{O(N.dataTypes,q)||b(N,`type "${q}" not allowed by context "${N.dataTypes.join(",")}"`)}),u(N,k)}}function A(N,k){k.length>1&&!(k.length===2&&k.includes("null"))&&b(N,"use allowUnionTypes to allow union type keyword")}function R(N,k){const q=N.self.RULES.all;for(const M in q){const z=q[M];if(typeof z=="object"&&(0,S.shouldUseRule)(N.schema,z)){const{type:G}=z.definition;G.length&&!G.some(ee=>T(k,ee))&&b(N,`missing type "${G.join(",")}" for keyword "${M}"`)}}}function T(N,k){return N.includes(k)||k==="number"&&N.includes("integer")}function O(N,k){return N.includes(k)||k==="integer"&&N.includes("number")}function u(N,k){const q=[];for(const M of N.dataTypes)O(k,M)?q.push(M):k.includes("integer")&&M==="number"&&q.push("integer");N.dataTypes=q}function b(N,k){const q=N.schemaEnv.baseId+N.errSchemaPath;k+=` at "${q}" (strictTypes)`,(0,_.checkStrictMode)(N,k,N.opts.strictTypes)}class I{constructor(k,q,M){if((0,o.validateKeywordUsage)(k,q,M),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=M,this.data=k.data,this.schema=k.schema[M],this.$data=q.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(k,this.schema,M,this.$data),this.schemaType=q.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=q,this.$data)this.schemaCode=k.gen.const("vSchema",W(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=k.gen.const("_errs",m.default.errors))}result(k,q,M){this.failResult((0,l.not)(k),q,M)}failResult(k,q,M){this.gen.if(k),M?M():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,q){this.failResult((0,l.not)(k),void 0,q)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:q}=this;this.fail((0,l._)`${q} !== undefined && (${(0,l.or)(this.invalid$data(),k)})`)}error(k,q,M){if(q){this.setParams(q),this._error(k,M),this.setParams({});return}this._error(k,M)}_error(k,q){(k?P.reportExtraError:P.reportError)(this,this.def.error,q)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,q){q?Object.assign(this.params,k):this.params=k}block$data(k,q,M=l.nil){this.gen.block(()=>{this.check$data(k,M),q()})}check$data(k=l.nil,q=l.nil){if(!this.$data)return;const{gen:M,schemaCode:z,schemaType:G,def:ee}=this;M.if((0,l.or)((0,l._)`${z} === undefined`,q)),k!==l.nil&&M.assign(k,!0),(G.length||ee.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),k!==l.nil&&M.assign(k,!1)),M.else()}invalid$data(){const{gen:k,schemaCode:q,schemaType:M,def:z,it:G}=this;return(0,l.or)(ee(),ue());function ee(){if(M.length){if(!(q instanceof l.Name))throw new Error("ajv implementation error");const se=Array.isArray(M)?M:[M];return(0,l._)`${(0,d.checkDataTypes)(se,q,G.opts.strictNumbers,d.DataType.Wrong)}`}return l.nil}function ue(){if(z.validateSchema){const se=k.scopeValue("validate$data",{ref:z.validateSchema});return(0,l._)`!${se}(${q})`}return l.nil}}subschema(k,q){const M=(0,f.getSubschema)(this.it,k);(0,f.extendSubschemaData)(M,this.it,k),(0,f.extendSubschemaMode)(M,k);const z={...this.it,...M,items:void 0,props:void 0};return a(z,q),z}mergeEvaluated(k,q){const{it:M,gen:z}=this;M.opts.unevaluated&&(M.props!==!0&&k.props!==void 0&&(M.props=_.mergeEvaluated.props(z,k.props,M.props,q)),M.items!==!0&&k.items!==void 0&&(M.items=_.mergeEvaluated.items(z,k.items,M.items,q)))}mergeValidEvaluated(k,q){const{it:M,gen:z}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return z.if(q,()=>this.mergeEvaluated(k,l.Name)),!0}}he.KeywordCxt=I;function U(N,k,q,M){const z=new I(N,q,k);"code"in q?q.code(z,M):z.$data&&q.validate?(0,o.funcKeywordCode)(z,q):"macro"in q?(0,o.macroKeywordCode)(z,q):(q.compile||q.validate)&&(0,o.funcKeywordCode)(z,q)}const F=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(N,{dataLevel:k,dataNames:q,dataPathArr:M}){let z,G;if(N==="")return m.default.rootData;if(N[0]==="/"){if(!F.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);z=N,G=m.default.rootData}else{const ae=X.exec(N);if(!ae)throw new Error(`Invalid JSON-pointer: ${N}`);const te=+ae[1];if(z=ae[2],z==="#"){if(te>=k)throw new Error(se("property/index",te));return M[k-te]}if(te>k)throw new Error(se("data",te));if(G=q[k-te],!z)return G}let ee=G;const ue=z.split("/");for(const ae of ue)ae&&(G=(0,l._)`${G}${(0,l.getProperty)((0,_.unescapeJsonPointer)(ae))}`,ee=(0,l._)`${ee} && ${G}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${k}`}}return he.getData=W,he}var Ie={},rr;function qt(){if(rr)return Ie;rr=1,Object.defineProperty(Ie,"__esModule",{value:!0});class e extends Error{constructor(S){super("validation failed"),this.errors=S,this.ajv=this.validation=!0}}return Ie.default=e,Ie}var qe={},nr;function vt(){if(nr)return qe;nr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=yt();class n extends Error{constructor(d,E,o,f){super(f||`can't resolve reference ${o} from id ${E}`),this.missingRef=(0,e.resolveUrl)(d,E,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(d,this.missingRef))}}return qe.default=n,qe}var oe={},sr;function Tt(){if(sr)return oe;sr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=J(),n=qt(),S=ve(),d=yt(),E=Q(),o=_t();class f{constructor(i){var t;this.refs={},this.dynamicAnchors={};let a;typeof i.schema=="object"&&(a=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(t=i.baseId)!==null&&t!==void 0?t:(0,d.normalizeId)(a?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=a?.$async,this.refs={}}}oe.SchemaEnv=f;function l(s){const i=_.call(this,s);if(i)return i;const t=(0,d.getFullPath)(this.opts.uriResolver,s.root.baseId),{es5:a,lines:h}=this.opts.code,{ownProperties:r}=this.opts,c=new e.CodeGen(this.scope,{es5:a,lines:h,ownProperties:r});let g;s.$async&&(g=c.scopeValue("Error",{ref:n.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=c.scopeName("validate");s.validateName=j;const C={gen:c,allErrors:this.opts.allErrors,data:S.default.data,parentData:S.default.parentData,parentDataProperty:S.default.parentDataProperty,dataNames:[S.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:c.scopeValue("schema",this.opts.code.source===!0?{ref:s.schema,code:(0,e.stringify)(s.schema)}:{ref:s.schema}),validateName:j,ValidationError:g,schema:s.schema,schemaEnv:s,rootId:t,baseId:s.baseId||t,schemaPath:e.nil,errSchemaPath:s.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(s),(0,o.validateFunctionCode)(C),c.optimize(this.opts.code.optimize);const V=c.toString();D=`${c.scopeRefs(S.default.scope)}return ${V}`,this.opts.code.process&&(D=this.opts.code.process(D,s));const K=new Function(`${S.default.self}`,`${S.default.scope}`,D)(this,this.scope.get());if(this.scope.value(j,{ref:K}),K.errors=null,K.schema=s.schema,K.schemaEnv=s,s.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:j,validateCode:V,scopeValues:c._values}),this.opts.unevaluated){const{props:B,items:x}=C;K.evaluated={props:B instanceof e.Name?void 0:B,items:x instanceof e.Name?void 0:x,dynamicProps:B instanceof e.Name,dynamicItems:x instanceof e.Name},K.source&&(K.source.evaluated=(0,e.stringify)(K.evaluated))}return s.validate=K,s}catch(V){throw delete s.validate,delete s.validateName,D&&this.logger.error("Error compiling schema, function code:",D),V}finally{this._compilations.delete(s)}}oe.compileSchema=l;function m(s,i,t){var a;t=(0,d.resolveUrl)(this.opts.uriResolver,i,t);const h=s.refs[t];if(h)return h;let r=v.call(this,s,t);if(r===void 0){const c=(a=s.localRefs)===null||a===void 0?void 0:a[t],{schemaId:g}=this.opts;c&&(r=new f({schema:c,schemaId:g,root:s,baseId:i}))}if(r!==void 0)return s.refs[t]=$.call(this,r)}oe.resolveRef=m;function $(s){return(0,d.inlineRef)(s.schema,this.opts.inlineRefs)?s.schema:s.validate?s:l.call(this,s)}function _(s){for(const i of this._compilations)if(P(i,s))return i}oe.getCompilingSchema=_;function P(s,i){return s.schema===i.schema&&s.root===i.root&&s.baseId===i.baseId}function v(s,i){let t;for(;typeof(t=this.refs[i])=="string";)i=t;return t||this.schemas[i]||y.call(this,s,i)}function y(s,i){const t=this.opts.uriResolver.parse(i),a=(0,d._getFullPath)(this.opts.uriResolver,t);let h=(0,d.getFullPath)(this.opts.uriResolver,s.baseId,void 0);if(Object.keys(s.schema).length>0&&a===h)return w.call(this,t,s);const r=(0,d.normalizeId)(a),c=this.refs[r]||this.schemas[r];if(typeof c=="string"){const g=y.call(this,s,c);return typeof g?.schema!="object"?void 0:w.call(this,t,g)}if(typeof c?.schema=="object"){if(c.validate||l.call(this,c),r===(0,d.normalizeId)(i)){const{schema:g}=c,{schemaId:j}=this.opts,C=g[j];return C&&(h=(0,d.resolveUrl)(this.opts.uriResolver,h,C)),new f({schema:g,schemaId:j,root:s,baseId:h})}return w.call(this,t,c)}}oe.resolveSchema=y;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(s,{baseId:i,schema:t,root:a}){var h;if(((h=s.fragment)===null||h===void 0?void 0:h[0])!=="/")return;for(const g of s.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const j=t[(0,E.unescapeFragment)(g)];if(j===void 0)return;t=j;const C=typeof t=="object"&&t[this.opts.schemaId];!p.has(g)&&C&&(i=(0,d.resolveUrl)(this.opts.uriResolver,i,C))}let r;if(typeof t!="boolean"&&t.$ref&&!(0,E.schemaHasRulesButRef)(t,this.RULES)){const g=(0,d.resolveUrl)(this.opts.uriResolver,i,t.$ref);r=y.call(this,a,g)}const{schemaId:c}=this.opts;if(r=r||new f({schema:t,schemaId:c,root:a,baseId:i}),r.schema!==r.root.schema)return r}return oe}const dn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",fn="Meta-schema for $data reference (JSON AnySchema extension proposal)",hn="object",mn=["$data"],pn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},yn=!1,_n={$id:dn,description:fn,type:hn,required:mn,properties:pn,additionalProperties:yn};var Te={},Re={exports:{}},Ot,ar;function xr(){if(ar)return Ot;ar=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),n=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function S(v){let y="",p=0,w=0;for(w=0;w<v.length;w++)if(p=v[w].charCodeAt(0),p!==48){if(!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";y+=v[w];break}for(w+=1;w<v.length;w++){if(p=v[w].charCodeAt(0),!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";y+=v[w]}return y}const d=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function E(v){return v.length=0,!0}function o(v,y,p){if(v.length){const w=S(v);if(w!=="")y.push(w);else return p.error=!0,!1;v.length=0}return!0}function f(v){let y=0;const p={error:!1,address:"",zone:""},w=[],s=[];let i=!1,t=!1,a=o;for(let h=0;h<v.length;h++){const r=v[h];if(!(r==="["||r==="]"))if(r===":"){if(i===!0&&(t=!0),!a(s,w,p))break;if(++y>7){p.error=!0;break}h>0&&v[h-1]===":"&&(i=!0),w.push(":");continue}else if(r==="%"){if(!a(s,w,p))break;a=E}else{s.push(r);continue}}return s.length&&(a===E?p.zone=s.join(""):t?w.push(s.join("")):w.push(S(s))),p.address=w.join(""),p}function l(v){if(m(v,":")<2)return{host:v,isIPV6:!1};const y=f(v);if(y.error)return{host:v,isIPV6:!1};{let p=y.address,w=y.address;return y.zone&&(p+="%"+y.zone,w+="%25"+y.zone),{host:p,isIPV6:!0,escapedHost:w}}}function m(v,y){let p=0;for(let w=0;w<v.length;w++)v[w]===y&&p++;return p}function $(v){let y=v;const p=[];let w=-1,s=0;for(;s=y.length;){if(s===1){if(y===".")break;if(y==="/"){p.push("/");break}else{p.push(y);break}}else if(s===2){if(y[0]==="."){if(y[1]===".")break;if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&(y[1]==="."||y[1]==="/")){p.push("/");break}}else if(s===3&&y==="/.."){p.length!==0&&p.pop(),p.push("/");break}if(y[0]==="."){if(y[1]==="."){if(y[2]==="/"){y=y.slice(3);continue}}else if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&y[1]==="."){if(y[2]==="/"){y=y.slice(2);continue}else if(y[2]==="."&&y[3]==="/"){y=y.slice(3),p.length!==0&&p.pop();continue}}if((w=y.indexOf("/",1))===-1){p.push(y);break}else p.push(y.slice(0,w)),y=y.slice(w)}return p.join("")}function _(v,y){const p=y!==!0?escape:unescape;return v.scheme!==void 0&&(v.scheme=p(v.scheme)),v.userinfo!==void 0&&(v.userinfo=p(v.userinfo)),v.host!==void 0&&(v.host=p(v.host)),v.path!==void 0&&(v.path=p(v.path)),v.query!==void 0&&(v.query=p(v.query)),v.fragment!==void 0&&(v.fragment=p(v.fragment)),v}function P(v){const y=[];if(v.userinfo!==void 0&&(y.push(v.userinfo),y.push("@")),v.host!==void 0){let p=unescape(v.host);if(!n(p)){const w=l(p);w.isIPV6===!0?p=`[${w.escapedHost}]`:p=v.host}y.push(p)}return(typeof v.port=="number"||typeof v.port=="string")&&(y.push(":"),y.push(String(v.port))),y.length?y.join(""):void 0}return Ot={nonSimpleDomain:d,recomposeAuthority:P,normalizeComponentEncoding:_,removeDotSegments:$,isIPv4:n,isUUID:e,normalizeIPv6:l,stringArrayToHexStripped:S},Ot}var jt,or;function vn(){if(or)return jt;or=1;const{isUUID:e}=xr(),n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,S=["http","https","ws","wss","urn","urn:uuid"];function d(r){return S.indexOf(r)!==-1}function E(r){return r.secure===!0?!0:r.secure===!1?!1:r.scheme?r.scheme.length===3&&(r.scheme[0]==="w"||r.scheme[0]==="W")&&(r.scheme[1]==="s"||r.scheme[1]==="S")&&(r.scheme[2]==="s"||r.scheme[2]==="S"):!1}function o(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r}function f(r){const c=String(r.scheme).toLowerCase()==="https";return(r.port===(c?443:80)||r.port==="")&&(r.port=void 0),r.path||(r.path="/"),r}function l(r){return r.secure=E(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r}function m(r){if((r.port===(E(r)?443:80)||r.port==="")&&(r.port=void 0),typeof r.secure=="boolean"&&(r.scheme=r.secure?"wss":"ws",r.secure=void 0),r.resourceName){const[c,g]=r.resourceName.split("?");r.path=c&&c!=="/"?c:void 0,r.query=g,r.resourceName=void 0}return r.fragment=void 0,r}function $(r,c){if(!r.path)return r.error="URN can not be parsed",r;const g=r.path.match(n);if(g){const j=c.scheme||r.scheme||"urn";r.nid=g[1].toLowerCase(),r.nss=g[2];const C=`${j}:${c.nid||r.nid}`,D=h(C);r.path=void 0,D&&(r=D.parse(r,c))}else r.error=r.error||"URN can not be parsed.";return r}function _(r,c){if(r.nid===void 0)throw new Error("URN without nid cannot be serialized");const g=c.scheme||r.scheme||"urn",j=r.nid.toLowerCase(),C=`${g}:${c.nid||j}`,D=h(C);D&&(r=D.serialize(r,c));const V=r,L=r.nss;return V.path=`${j||c.nid}:${L}`,c.skipEscape=!0,V}function P(r,c){const g=r;return g.uuid=g.nss,g.nss=void 0,!c.tolerant&&(!g.uuid||!e(g.uuid))&&(g.error=g.error||"UUID is not valid."),g}function v(r){const c=r;return c.nss=(r.uuid||"").toLowerCase(),c}const y={scheme:"http",domainHost:!0,parse:o,serialize:f},p={scheme:"https",domainHost:y.domainHost,parse:o,serialize:f},w={scheme:"ws",domainHost:!0,parse:l,serialize:m},s={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},a={http:y,https:p,ws:w,wss:s,urn:{scheme:"urn",parse:$,serialize:_,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:P,serialize:v,skipNormalize:!0}};Object.setPrototypeOf(a,null);function h(r){return r&&(a[r]||a[r.toLowerCase()])||void 0}return jt={wsIsSecure:E,SCHEMES:a,isValidSchemeName:d,getSchemeHandler:h},jt}var ir;function gn(){if(ir)return Re.exports;ir=1;const{normalizeIPv6:e,removeDotSegments:n,recomposeAuthority:S,normalizeComponentEncoding:d,isIPv4:E,nonSimpleDomain:o}=xr(),{SCHEMES:f,getSchemeHandler:l}=vn();function m(s,i){return typeof s=="string"?s=v(p(s,i),i):typeof s=="object"&&(s=p(v(s,i),i)),s}function $(s,i,t){const a=t?Object.assign({scheme:"null"},t):{scheme:"null"},h=_(p(s,a),p(i,a),a,!0);return a.skipEscape=!0,v(h,a)}function _(s,i,t,a){const h={};return a||(s=p(v(s,t),t),i=p(v(i,t),t)),t=t||{},!t.tolerant&&i.scheme?(h.scheme=i.scheme,h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=n(i.path||""),h.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=n(i.path||""),h.query=i.query):(i.path?(i.path[0]==="/"?h.path=n(i.path):((s.userinfo!==void 0||s.host!==void 0||s.port!==void 0)&&!s.path?h.path="/"+i.path:s.path?h.path=s.path.slice(0,s.path.lastIndexOf("/")+1)+i.path:h.path=i.path,h.path=n(h.path)),h.query=i.query):(h.path=s.path,i.query!==void 0?h.query=i.query:h.query=s.query),h.userinfo=s.userinfo,h.host=s.host,h.port=s.port),h.scheme=s.scheme),h.fragment=i.fragment,h}function P(s,i,t){return typeof s=="string"?(s=unescape(s),s=v(d(p(s,t),!0),{...t,skipEscape:!0})):typeof s=="object"&&(s=v(d(s,!0),{...t,skipEscape:!0})),typeof i=="string"?(i=unescape(i),i=v(d(p(i,t),!0),{...t,skipEscape:!0})):typeof i=="object"&&(i=v(d(i,!0),{...t,skipEscape:!0})),s.toLowerCase()===i.toLowerCase()}function v(s,i){const t={host:s.host,scheme:s.scheme,userinfo:s.userinfo,port:s.port,path:s.path,query:s.query,nid:s.nid,nss:s.nss,uuid:s.uuid,fragment:s.fragment,reference:s.reference,resourceName:s.resourceName,secure:s.secure,error:""},a=Object.assign({},i),h=[],r=l(a.scheme||t.scheme);r&&r.serialize&&r.serialize(t,a),t.path!==void 0&&(a.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),a.reference!=="suffix"&&t.scheme&&h.push(t.scheme,":");const c=S(t);if(c!==void 0&&(a.reference!=="suffix"&&h.push("//"),h.push(c),t.path&&t.path[0]!=="/"&&h.push("/")),t.path!==void 0){let g=t.path;!a.absolutePath&&(!r||!r.absolutePath)&&(g=n(g)),c===void 0&&g[0]==="/"&&g[1]==="/"&&(g="/%2F"+g.slice(2)),h.push(g)}return t.query!==void 0&&h.push("?",t.query),t.fragment!==void 0&&h.push("#",t.fragment),h.join("")}const y=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(s,i){const t=Object.assign({},i),a={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let h=!1;t.reference==="suffix"&&(t.scheme?s=t.scheme+":"+s:s="//"+s);const r=s.match(y);if(r){if(a.scheme=r[1],a.userinfo=r[3],a.host=r[4],a.port=parseInt(r[5],10),a.path=r[6]||"",a.query=r[7],a.fragment=r[8],isNaN(a.port)&&(a.port=r[5]),a.host)if(E(a.host)===!1){const j=e(a.host);a.host=j.host.toLowerCase(),h=j.isIPV6}else h=!0;a.scheme===void 0&&a.userinfo===void 0&&a.host===void 0&&a.port===void 0&&a.query===void 0&&!a.path?a.reference="same-document":a.scheme===void 0?a.reference="relative":a.fragment===void 0?a.reference="absolute":a.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==a.reference&&(a.error=a.error||"URI is not a "+t.reference+" reference.");const c=l(t.scheme||a.scheme);if(!t.unicodeSupport&&(!c||!c.unicodeSupport)&&a.host&&(t.domainHost||c&&c.domainHost)&&h===!1&&o(a.host))try{a.host=URL.domainToASCII(a.host.toLowerCase())}catch(g){a.error=a.error||"Host's domain name can not be converted to ASCII: "+g}(!c||c&&!c.skipNormalize)&&(s.indexOf("%")!==-1&&(a.scheme!==void 0&&(a.scheme=unescape(a.scheme)),a.host!==void 0&&(a.host=unescape(a.host))),a.path&&(a.path=escape(unescape(a.path))),a.fragment&&(a.fragment=encodeURI(decodeURIComponent(a.fragment)))),c&&c.parse&&c.parse(a,t)}else a.error=a.error||"URI can not be parsed.";return a}const w={SCHEMES:f,normalize:m,resolve:$,resolveComponent:_,equal:P,serialize:v,parse:p};return Re.exports=w,Re.exports.default=w,Re.exports.fastUri=w,Re.exports}var ur;function $n(){if(ur)return Te;ur=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=gn();return e.code='require("ajv/dist/runtime/uri").default',Te.default=e,Te}var cr;function wn(){return cr||(cr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var n=_t();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var S=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return S._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return S.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return S.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return S.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return S.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return S.CodeGen}});const d=qt(),E=vt(),o=Xr(),f=Tt(),l=J(),m=yt(),$=mt(),_=Q(),P=_n,v=$n(),y=(A,R)=>new RegExp(A,R);y.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function a(A){var R,T,O,u,b,I,U,F,X,W,N,k,q,M,z,G,ee,ue,se,ae,te,be,ie,gt,$t;const Pe=A.strict,wt=(R=A.code)===null||R===void 0?void 0:R.optimize,At=wt===!0||wt===void 0?1:wt||0,Mt=(O=(T=A.code)===null||T===void 0?void 0:T.regExp)!==null&&O!==void 0?O:y,nn=(u=A.uriResolver)!==null&&u!==void 0?u:v.default;return{strictSchema:(I=(b=A.strictSchema)!==null&&b!==void 0?b:Pe)!==null&&I!==void 0?I:!0,strictNumbers:(F=(U=A.strictNumbers)!==null&&U!==void 0?U:Pe)!==null&&F!==void 0?F:!0,strictTypes:(W=(X=A.strictTypes)!==null&&X!==void 0?X:Pe)!==null&&W!==void 0?W:"log",strictTuples:(k=(N=A.strictTuples)!==null&&N!==void 0?N:Pe)!==null&&k!==void 0?k:"log",strictRequired:(M=(q=A.strictRequired)!==null&&q!==void 0?q:Pe)!==null&&M!==void 0?M:!1,code:A.code?{...A.code,optimize:At,regExp:Mt}:{optimize:At,regExp:Mt},loopRequired:(z=A.loopRequired)!==null&&z!==void 0?z:t,loopEnum:(G=A.loopEnum)!==null&&G!==void 0?G:t,meta:(ee=A.meta)!==null&&ee!==void 0?ee:!0,messages:(ue=A.messages)!==null&&ue!==void 0?ue:!0,inlineRefs:(se=A.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=A.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=A.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=A.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ie=A.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(gt=A.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:($t=A.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:nn}}class h{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...a(R)};const{es5:T,lines:O}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:w,es5:T,lines:O}),this.logger=L(R.logger);const u=R.validateFormats;R.validateFormats=!1,this.RULES=(0,o.getRules)(),r.call(this,s,R,"NOT SUPPORTED"),r.call(this,i,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&C.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),g.call(this),R.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:T,schemaId:O}=this.opts;let u=P;O==="id"&&(u={...P},u.id=u.$id,delete u.$id),T&&R&&this.addMetaSchema(u,u[O],!1)}defaultMeta(){const{meta:R,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[T]||R:void 0}validate(R,T){let O;if(typeof R=="string"){if(O=this.getSchema(R),!O)throw new Error(`no schema with key or ref "${R}"`)}else O=this.compile(R);const u=O(T);return"$async"in O||(this.errors=O.errors),u}compile(R,T){const O=this._addSchema(R,T);return O.validate||this._compileSchemaEnv(O)}compileAsync(R,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return u.call(this,R,T);async function u(W,N){await b.call(this,W.$schema);const k=this._addSchema(W,N);return k.validate||I.call(this,k)}async function b(W){W&&!this.getSchema(W)&&await u.call(this,{$ref:W},!0)}async function I(W){try{return this._compileSchemaEnv(W)}catch(N){if(!(N instanceof E.default))throw N;return U.call(this,N),await F.call(this,N.missingSchema),I.call(this,W)}}function U({missingSchema:W,missingRef:N}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${N} cannot be resolved`)}async function F(W){const N=await X.call(this,W);this.refs[W]||await b.call(this,N.$schema),this.refs[W]||this.addSchema(N,W,T)}async function X(W){const N=this._loading[W];if(N)return N;try{return await(this._loading[W]=O(W))}finally{delete this._loading[W]}}}addSchema(R,T,O,u=this.opts.validateSchema){if(Array.isArray(R)){for(const I of R)this.addSchema(I,void 0,O,u);return this}let b;if(typeof R=="object"){const{schemaId:I}=this.opts;if(b=R[I],b!==void 0&&typeof b!="string")throw new Error(`schema ${I} must be string`)}return T=(0,m.normalizeId)(T||b),this._checkUnique(T),this.schemas[T]=this._addSchema(R,O,T,u,!0),this}addMetaSchema(R,T,O=this.opts.validateSchema){return this.addSchema(R,T,!0,O),this}validateSchema(R,T){if(typeof R=="boolean")return!0;let O;if(O=R.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(O,R);if(!u&&T){const b="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(b);else throw new Error(b)}return u}getSchema(R){let T;for(;typeof(T=c.call(this,R))=="string";)R=T;if(T===void 0){const{schemaId:O}=this.opts,u=new f.SchemaEnv({schema:{},schemaId:O});if(T=f.resolveSchema.call(this,u,R),!T)return;this.refs[R]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=c.call(this,R);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const T=R;this._cache.delete(T);let O=R[this.opts.schemaId];return O&&(O=(0,m.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const T of R)this.addKeyword(T);return this}addKeyword(R,T){let O;if(typeof R=="string")O=R,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=O);else if(typeof R=="object"&&T===void 0){if(T=R,O=T.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,O,T),!T)return(0,_.eachItem)(O,b=>x.call(this,b)),this;fe.call(this,T);const u={...T,type:(0,$.getJSONTypes)(T.type),schemaType:(0,$.getJSONTypes)(T.schemaType)};return(0,_.eachItem)(O,u.type.length===0?b=>x.call(this,b,u):b=>u.type.forEach(I=>x.call(this,b,u,I))),this}getKeyword(R){const T=this.RULES.all[R];return typeof T=="object"?T.definition:!!T}removeKeyword(R){const{RULES:T}=this;delete T.keywords[R],delete T.all[R];for(const O of T.rules){const u=O.rules.findIndex(b=>b.keyword===R);u>=0&&O.rules.splice(u,1)}return this}addFormat(R,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[R]=T,this}errorsText(R=this.errors,{separator:T=", ",dataVar:O="data"}={}){return!R||R.length===0?"No errors":R.map(u=>`${O}${u.instancePath} ${u.message}`).reduce((u,b)=>u+T+b)}$dataMetaSchema(R,T){const O=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const u of T){const b=u.split("/").slice(1);let I=R;for(const U of b)I=I[U];for(const U in O){const F=O[U];if(typeof F!="object")continue;const{$data:X}=F.definition,W=I[U];X&&W&&(I[U]=ye(W))}}return R}_removeAllSchemas(R,T){for(const O in R){const u=R[O];(!T||T.test(O))&&(typeof u=="string"?delete R[O]:u&&!u.meta&&(this._cache.delete(u.schema),delete R[O]))}}_addSchema(R,T,O,u=this.opts.validateSchema,b=this.opts.addUsedSchema){let I;const{schemaId:U}=this.opts;if(typeof R=="object")I=R[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(R);if(F!==void 0)return F;O=(0,m.normalizeId)(I||O);const X=m.getSchemaRefs.call(this,R,O);return F=new f.SchemaEnv({schema:R,schemaId:U,meta:T,baseId:O,localRefs:X}),this._cache.set(F.schema,F),b&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=F),u&&this.validateSchema(R,!0),F}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):f.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const T=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,R)}finally{this.opts=T}}}h.ValidationError=d.default,h.MissingRefError=E.default,e.default=h;function r(A,R,T,O="error"){for(const u in A){const b=u;b in R&&this.logger[O](`${T}: option ${u}. ${A[b]}`)}}function c(A){return A=(0,m.normalizeId)(A),this.schemas[A]||this.refs[A]}function g(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function j(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function C(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const T=A[R];T.keyword||(T.keyword=R),this.addKeyword(T)}}function D(){const A={...this.opts};for(const R of p)delete A[R];return A}const V={log(){},warn(){},error(){}};function L(A){if(A===!1)return V;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function B(A,R){const{RULES:T}=this;if((0,_.eachItem)(A,O=>{if(T.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!K.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(A,R,T){var O;const u=R?.post;if(T&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:b}=this;let I=u?b.post:b.rules.find(({type:F})=>F===T);if(I||(I={type:T,rules:[]},b.rules.push(I)),b.keywords[A]=!0,!R)return;const U={keyword:A,definition:{...R,type:(0,$.getJSONTypes)(R.type),schemaType:(0,$.getJSONTypes)(R.schemaType)}};R.before?de.call(this,I,U,R.before):I.rules.push(U),b.all[A]=U,(O=R.implements)===null||O===void 0||O.forEach(F=>this.addKeyword(F))}function de(A,R,T){const O=A.rules.findIndex(u=>u.keyword===T);O>=0?A.rules.splice(O,0,R):(A.rules.push(R),this.logger.warn(`rule ${T} is not defined`))}function fe(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=ye(R)),A.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(A){return{anyOf:[A,Z]}}})(bt)),bt}var Ce={},Ae={},Me={},lr;function bn(){if(lr)return Me;lr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Me.default=e,Me}var _e={},dr;function En(){if(dr)return _e;dr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=vt(),n=le(),S=J(),d=ve(),E=Tt(),o=Q(),f={keyword:"$ref",schemaType:"string",code($){const{gen:_,schema:P,it:v}=$,{baseId:y,schemaEnv:p,validateName:w,opts:s,self:i}=v,{root:t}=p;if((P==="#"||P==="#/")&&y===t.baseId)return h();const a=E.resolveRef.call(i,t,y,P);if(a===void 0)throw new e.default(v.opts.uriResolver,y,P);if(a instanceof E.SchemaEnv)return r(a);return c(a);function h(){if(p===t)return m($,w,p,p.$async);const g=_.scopeValue("root",{ref:t});return m($,(0,S._)`${g}.validate`,t,t.$async)}function r(g){const j=l($,g);m($,j,g,g.$async)}function c(g){const j=_.scopeValue("schema",s.code.source===!0?{ref:g,code:(0,S.stringify)(g)}:{ref:g}),C=_.name("valid"),D=$.subschema({schema:g,dataTypes:[],schemaPath:S.nil,topSchemaRef:j,errSchemaPath:P},C);$.mergeEvaluated(D),$.ok(C)}}};function l($,_){const{gen:P}=$;return _.validate?P.scopeValue("validate",{ref:_.validate}):(0,S._)`${P.scopeValue("wrapper",{ref:_})}.validate`}_e.getValidate=l;function m($,_,P,v){const{gen:y,it:p}=$,{allErrors:w,schemaEnv:s,opts:i}=p,t=i.passContext?d.default.this:S.nil;v?a():h();function a(){if(!s.$async)throw new Error("async schema referenced by sync schema");const g=y.let("valid");y.try(()=>{y.code((0,S._)`await ${(0,n.callValidateCode)($,_,t)}`),c(_),w||y.assign(g,!0)},j=>{y.if((0,S._)`!(${j} instanceof ${p.ValidationError})`,()=>y.throw(j)),r(j),w||y.assign(g,!1)}),$.ok(g)}function h(){$.result((0,n.callValidateCode)($,_,t),()=>c(_),()=>r(_))}function r(g){const j=(0,S._)`${g}.errors`;y.assign(d.default.vErrors,(0,S._)`${d.default.vErrors} === null ? ${j} : ${d.default.vErrors}.concat(${j})`),y.assign(d.default.errors,(0,S._)`${d.default.vErrors}.length`)}function c(g){var j;if(!p.opts.unevaluated)return;const C=(j=P?.validate)===null||j===void 0?void 0:j.evaluated;if(p.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(p.props=o.mergeEvaluated.props(y,C.props,p.props));else{const D=y.var("props",(0,S._)`${g}.evaluated.props`);p.props=o.mergeEvaluated.props(y,D,p.props,S.Name)}if(p.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(p.items=o.mergeEvaluated.items(y,C.items,p.items));else{const D=y.var("items",(0,S._)`${g}.evaluated.items`);p.items=o.mergeEvaluated.items(y,D,p.items,S.Name)}}}return _e.callRef=m,_e.default=f,_e}var fr;function Sn(){if(fr)return Ae;fr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=bn(),n=En(),S=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,n.default];return Ae.default=S,Ae}var De={},Ve={},hr;function Pn(){if(hr)return Ve;hr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=J(),n=e.operators,S={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},d={message:({keyword:o,schemaCode:f})=>(0,e.str)`must be ${S[o].okStr} ${f}`,params:({keyword:o,schemaCode:f})=>(0,e._)`{comparison: ${S[o].okStr}, limit: ${f}}`},E={keyword:Object.keys(S),type:"number",schemaType:"number",$data:!0,error:d,code(o){const{keyword:f,data:l,schemaCode:m}=o;o.fail$data((0,e._)`${l} ${S[f].fail} ${m} || isNaN(${l})`)}};return Ve.default=E,Ve}var Ue={},mr;function Nn(){if(mr)return Ue;mr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=J(),S={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must be multiple of ${d}`,params:({schemaCode:d})=>(0,e._)`{multipleOf: ${d}}`},code(d){const{gen:E,data:o,schemaCode:f,it:l}=d,m=l.opts.multipleOfPrecision,$=E.let("res"),_=m?(0,e._)`Math.abs(Math.round(${$}) - ${$}) > 1e-${m}`:(0,e._)`${$} !== parseInt(${$})`;d.fail$data((0,e._)`(${f} === 0 || (${$} = ${o}/${f}, ${_}))`)}};return Ue.default=S,Ue}var ze={},Fe={},pr;function Rn(){if(pr)return Fe;pr=1,Object.defineProperty(Fe,"__esModule",{value:!0});function e(n){const S=n.length;let d=0,E=0,o;for(;E<S;)d++,o=n.charCodeAt(E++),o>=55296&&o<=56319&&E<S&&(o=n.charCodeAt(E),(o&64512)===56320&&E++);return d}return Fe.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Fe}var yr;function kn(){if(yr)return ze;yr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=J(),n=Q(),S=Rn(),E={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:f}){const l=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${l} than ${f} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:f,data:l,schemaCode:m,it:$}=o,_=f==="maxLength"?e.operators.GT:e.operators.LT,P=$.opts.unicode===!1?(0,e._)`${l}.length`:(0,e._)`${(0,n.useFunc)(o.gen,S.default)}(${l})`;o.fail$data((0,e._)`${P} ${_} ${m}`)}};return ze.default=E,ze}var Ke={},_r;function On(){if(_r)return Ke;_r=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=le(),n=J(),d={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:E})=>(0,n.str)`must match pattern "${E}"`,params:({schemaCode:E})=>(0,n._)`{pattern: ${E}}`},code(E){const{data:o,$data:f,schema:l,schemaCode:m,it:$}=E,_=$.opts.unicodeRegExp?"u":"",P=f?(0,n._)`(new RegExp(${m}, ${_}))`:(0,e.usePattern)(E,l);E.fail$data((0,n._)`!${P}.test(${o})`)}};return Ke.default=d,Ke}var Le={},vr;function jn(){if(vr)return Le;vr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),S={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:E}){const o=d==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${E} properties`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:E,data:o,schemaCode:f}=d,l=E==="maxProperties"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`Object.keys(${o}).length ${l} ${f}`)}};return Le.default=S,Le}var He={},gr;function In(){if(gr)return He;gr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=le(),n=J(),S=Q(),E={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,n.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,n._)`{missingProperty: ${o}}`},code(o){const{gen:f,schema:l,schemaCode:m,data:$,$data:_,it:P}=o,{opts:v}=P;if(!_&&l.length===0)return;const y=l.length>=v.loopRequired;if(P.allErrors?p():w(),v.strictRequired){const t=o.parentSchema.properties,{definedProperties:a}=o.it;for(const h of l)if(t?.[h]===void 0&&!a.has(h)){const r=P.schemaEnv.baseId+P.errSchemaPath,c=`required property "${h}" is not defined at "${r}" (strictRequired)`;(0,S.checkStrictMode)(P,c,P.opts.strictRequired)}}function p(){if(y||_)o.block$data(n.nil,s);else for(const t of l)(0,e.checkReportMissingProp)(o,t)}function w(){const t=f.let("missing");if(y||_){const a=f.let("valid",!0);o.block$data(a,()=>i(t,a)),o.ok(a)}else f.if((0,e.checkMissingProp)(o,l,t)),(0,e.reportMissingProp)(o,t),f.else()}function s(){f.forOf("prop",m,t=>{o.setParams({missingProperty:t}),f.if((0,e.noPropertyInData)(f,$,t,v.ownProperties),()=>o.error())})}function i(t,a){o.setParams({missingProperty:t}),f.forOf(t,m,()=>{f.assign(a,(0,e.propertyInData)(f,$,t,v.ownProperties)),f.if((0,n.not)(a),()=>{o.error(),f.break()})},n.nil)}}};return He.default=E,He}var Ge={},$r;function qn(){if($r)return Ge;$r=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),S={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:E}){const o=d==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${E} items`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:E,data:o,schemaCode:f}=d,l=E==="maxItems"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`${o}.length ${l} ${f}`)}};return Ge.default=S,Ge}var Je={},We={},wr;function Ct(){if(wr)return We;wr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=Zr();return e.code='require("ajv/dist/runtime/equal").default',We.default=e,We}var br;function Tn(){if(br)return Je;br=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=mt(),n=J(),S=Q(),d=Ct(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:f,j:l}})=>(0,n.str)`must NOT have duplicate items (items ## ${l} and ${f} are identical)`,params:({params:{i:f,j:l}})=>(0,n._)`{i: ${f}, j: ${l}}`},code(f){const{gen:l,data:m,$data:$,schema:_,parentSchema:P,schemaCode:v,it:y}=f;if(!$&&!_)return;const p=l.let("valid"),w=P.items?(0,e.getSchemaTypes)(P.items):[];f.block$data(p,s,(0,n._)`${v} === false`),f.ok(p);function s(){const h=l.let("i",(0,n._)`${m}.length`),r=l.let("j");f.setParams({i:h,j:r}),l.assign(p,!0),l.if((0,n._)`${h} > 1`,()=>(i()?t:a)(h,r))}function i(){return w.length>0&&!w.some(h=>h==="object"||h==="array")}function t(h,r){const c=l.name("item"),g=(0,e.checkDataTypes)(w,c,y.opts.strictNumbers,e.DataType.Wrong),j=l.const("indices",(0,n._)`{}`);l.for((0,n._)`;${h}--;`,()=>{l.let(c,(0,n._)`${m}[${h}]`),l.if(g,(0,n._)`continue`),w.length>1&&l.if((0,n._)`typeof ${c} == "string"`,(0,n._)`${c} += "_"`),l.if((0,n._)`typeof ${j}[${c}] == "number"`,()=>{l.assign(r,(0,n._)`${j}[${c}]`),f.error(),l.assign(p,!1).break()}).code((0,n._)`${j}[${c}] = ${h}`)})}function a(h,r){const c=(0,S.useFunc)(l,d.default),g=l.name("outer");l.label(g).for((0,n._)`;${h}--;`,()=>l.for((0,n._)`${r} = ${h}; ${r}--;`,()=>l.if((0,n._)`${c}(${m}[${h}], ${m}[${r}])`,()=>{f.error(),l.assign(p,!1).break(g)})))}}};return Je.default=o,Je}var Be={},Er;function Cn(){if(Er)return Be;Er=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),n=Q(),S=Ct(),E={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:f,data:l,$data:m,schemaCode:$,schema:_}=o;m||_&&typeof _=="object"?o.fail$data((0,e._)`!${(0,n.useFunc)(f,S.default)}(${l}, ${$})`):o.fail((0,e._)`${_} !== ${l}`)}};return Be.default=E,Be}var Qe={},Sr;function An(){if(Sr)return Qe;Sr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=J(),n=Q(),S=Ct(),E={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:f,data:l,$data:m,schema:$,schemaCode:_,it:P}=o;if(!m&&$.length===0)throw new Error("enum must have non-empty array");const v=$.length>=P.opts.loopEnum;let y;const p=()=>y??(y=(0,n.useFunc)(f,S.default));let w;if(v||m)w=f.let("valid"),o.block$data(w,s);else{if(!Array.isArray($))throw new Error("ajv implementation error");const t=f.const("vSchema",_);w=(0,e.or)(...$.map((a,h)=>i(t,h)))}o.pass(w);function s(){f.assign(w,!1),f.forOf("v",_,t=>f.if((0,e._)`${p()}(${l}, ${t})`,()=>f.assign(w,!0).break()))}function i(t,a){const h=$[a];return typeof h=="object"&&h!==null?(0,e._)`${p()}(${l}, ${t}[${a}])`:(0,e._)`${l} === ${h}`}}};return Qe.default=E,Qe}var Pr;function Mn(){if(Pr)return De;Pr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=Pn(),n=Nn(),S=kn(),d=On(),E=jn(),o=In(),f=qn(),l=Tn(),m=Cn(),$=An(),_=[e.default,n.default,S.default,d.default,E.default,o.default,f.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},m.default,$.default];return De.default=_,De}var Xe={},Ee={},Nr;function en(){if(Nr)return Ee;Nr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=J(),n=Q(),d={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:f,it:l}=o,{items:m}=f;if(!Array.isArray(m)){(0,n.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}E(o,m)}};function E(o,f){const{gen:l,schema:m,data:$,keyword:_,it:P}=o;P.items=!0;const v=l.const("len",(0,e._)`${$}.length`);if(m===!1)o.setParams({len:f.length}),o.pass((0,e._)`${v} <= ${f.length}`);else if(typeof m=="object"&&!(0,n.alwaysValidSchema)(P,m)){const p=l.var("valid",(0,e._)`${v} <= ${f.length}`);l.if((0,e.not)(p),()=>y(p)),o.ok(p)}function y(p){l.forRange("i",f.length,v,w=>{o.subschema({keyword:_,dataProp:w,dataPropType:n.Type.Num},p),P.allErrors||l.if((0,e.not)(p),()=>l.break())})}}return Ee.validateAdditionalItems=E,Ee.default=d,Ee}var Ye={},Se={},Rr;function tn(){if(Rr)return Se;Rr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.validateTuple=void 0;const e=J(),n=Q(),S=le(),d={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:f,it:l}=o;if(Array.isArray(f))return E(o,"additionalItems",f);l.items=!0,!(0,n.alwaysValidSchema)(l,f)&&o.ok((0,S.validateArray)(o))}};function E(o,f,l=o.schema){const{gen:m,parentSchema:$,data:_,keyword:P,it:v}=o;w($),v.opts.unevaluated&&l.length&&v.items!==!0&&(v.items=n.mergeEvaluated.items(m,l.length,v.items));const y=m.name("valid"),p=m.const("len",(0,e._)`${_}.length`);l.forEach((s,i)=>{(0,n.alwaysValidSchema)(v,s)||(m.if((0,e._)`${p} > ${i}`,()=>o.subschema({keyword:P,schemaProp:i,dataProp:i},y)),o.ok(y))});function w(s){const{opts:i,errSchemaPath:t}=v,a=l.length,h=a===s.minItems&&(a===s.maxItems||s[f]===!1);if(i.strictTuples&&!h){const r=`"${P}" is ${a}-tuple, but minItems or maxItems/${f} are not specified or different at path "${t}"`;(0,n.checkStrictMode)(v,r,i.strictTuples)}}}return Se.validateTuple=E,Se.default=d,Se}var kr;function Dn(){if(kr)return Ye;kr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=tn(),n={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:S=>(0,e.validateTuple)(S,"items")};return Ye.default=n,Ye}var Ze={},Or;function Vn(){if(Or)return Ze;Or=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=J(),n=Q(),S=le(),d=en(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:f}})=>(0,e.str)`must NOT have more than ${f} items`,params:({params:{len:f}})=>(0,e._)`{limit: ${f}}`},code(f){const{schema:l,parentSchema:m,it:$}=f,{prefixItems:_}=m;$.items=!0,!(0,n.alwaysValidSchema)($,l)&&(_?(0,d.validateAdditionalItems)(f,_):f.ok((0,S.validateArray)(f)))}};return Ze.default=o,Ze}var xe={},jr;function Un(){if(jr)return xe;jr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),n=Q(),d={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:E,max:o}})=>o===void 0?(0,e.str)`must contain at least ${E} valid item(s)`:(0,e.str)`must contain at least ${E} and no more than ${o} valid item(s)`,params:({params:{min:E,max:o}})=>o===void 0?(0,e._)`{minContains: ${E}}`:(0,e._)`{minContains: ${E}, maxContains: ${o}}`},code(E){const{gen:o,schema:f,parentSchema:l,data:m,it:$}=E;let _,P;const{minContains:v,maxContains:y}=l;$.opts.next?(_=v===void 0?1:v,P=y):_=1;const p=o.const("len",(0,e._)`${m}.length`);if(E.setParams({min:_,max:P}),P===void 0&&_===0){(0,n.checkStrictMode)($,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&_>P){(0,n.checkStrictMode)($,'"minContains" > "maxContains" is always invalid'),E.fail();return}if((0,n.alwaysValidSchema)($,f)){let a=(0,e._)`${p} >= ${_}`;P!==void 0&&(a=(0,e._)`${a} && ${p} <= ${P}`),E.pass(a);return}$.items=!0;const w=o.name("valid");P===void 0&&_===1?i(w,()=>o.if(w,()=>o.break())):_===0?(o.let(w,!0),P!==void 0&&o.if((0,e._)`${m}.length > 0`,s)):(o.let(w,!1),s()),E.result(w,()=>E.reset());function s(){const a=o.name("_valid"),h=o.let("count",0);i(a,()=>o.if(a,()=>t(h)))}function i(a,h){o.forRange("i",0,p,r=>{E.subschema({keyword:"contains",dataProp:r,dataPropType:n.Type.Num,compositeRule:!0},a),h()})}function t(a){o.code((0,e._)`${a}++`),P===void 0?o.if((0,e._)`${a} >= ${_}`,()=>o.assign(w,!0).break()):(o.if((0,e._)`${a} > ${P}`,()=>o.assign(w,!1).break()),_===1?o.assign(w,!0):o.if((0,e._)`${a} >= ${_}`,()=>o.assign(w,!0)))}}};return xe.default=d,xe}var It={},Ir;function zn(){return Ir||(Ir=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const n=J(),S=Q(),d=le();e.error={message:({params:{property:m,depsCount:$,deps:_}})=>{const P=$===1?"property":"properties";return(0,n.str)`must have ${P} ${_} when property ${m} is present`},params:({params:{property:m,depsCount:$,deps:_,missingProperty:P}})=>(0,n._)`{property: ${m},
    missingProperty: ${P},
    depsCount: ${$},
    deps: ${_}}`};const E={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(m){const[$,_]=o(m);f(m,$),l(m,_)}};function o({schema:m}){const $={},_={};for(const P in m){if(P==="__proto__")continue;const v=Array.isArray(m[P])?$:_;v[P]=m[P]}return[$,_]}function f(m,$=m.schema){const{gen:_,data:P,it:v}=m;if(Object.keys($).length===0)return;const y=_.let("missing");for(const p in $){const w=$[p];if(w.length===0)continue;const s=(0,d.propertyInData)(_,P,p,v.opts.ownProperties);m.setParams({property:p,depsCount:w.length,deps:w.join(", ")}),v.allErrors?_.if(s,()=>{for(const i of w)(0,d.checkReportMissingProp)(m,i)}):(_.if((0,n._)`${s} && (${(0,d.checkMissingProp)(m,w,y)})`),(0,d.reportMissingProp)(m,y),_.else())}}e.validatePropertyDeps=f;function l(m,$=m.schema){const{gen:_,data:P,keyword:v,it:y}=m,p=_.name("valid");for(const w in $)(0,S.alwaysValidSchema)(y,$[w])||(_.if((0,d.propertyInData)(_,P,w,y.opts.ownProperties),()=>{const s=m.subschema({keyword:v,schemaProp:w},p);m.mergeValidEvaluated(s,p)},()=>_.var(p,!0)),m.ok(p))}e.validateSchemaDeps=l,e.default=E})(It)),It}var et={},qr;function Fn(){if(qr)return et;qr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),n=Q(),d={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:E})=>(0,e._)`{propertyName: ${E.propertyName}}`},code(E){const{gen:o,schema:f,data:l,it:m}=E;if((0,n.alwaysValidSchema)(m,f))return;const $=o.name("valid");o.forIn("key",l,_=>{E.setParams({propertyName:_}),E.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},$),o.if((0,e.not)($),()=>{E.error(!0),m.allErrors||o.break()})}),E.ok($)}};return et.default=d,et}var tt={},Tr;function rn(){if(Tr)return tt;Tr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=le(),n=J(),S=ve(),d=Q(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:f})=>(0,n._)`{additionalProperty: ${f.additionalProperty}}`},code(f){const{gen:l,schema:m,parentSchema:$,data:_,errsCount:P,it:v}=f;if(!P)throw new Error("ajv implementation error");const{allErrors:y,opts:p}=v;if(v.props=!0,p.removeAdditional!=="all"&&(0,d.alwaysValidSchema)(v,m))return;const w=(0,e.allSchemaProperties)($.properties),s=(0,e.allSchemaProperties)($.patternProperties);i(),f.ok((0,n._)`${P} === ${S.default.errors}`);function i(){l.forIn("key",_,c=>{!w.length&&!s.length?h(c):l.if(t(c),()=>h(c))})}function t(c){let g;if(w.length>8){const j=(0,d.schemaRefOrVal)(v,$.properties,"properties");g=(0,e.isOwnProperty)(l,j,c)}else w.length?g=(0,n.or)(...w.map(j=>(0,n._)`${c} === ${j}`)):g=n.nil;return s.length&&(g=(0,n.or)(g,...s.map(j=>(0,n._)`${(0,e.usePattern)(f,j)}.test(${c})`))),(0,n.not)(g)}function a(c){l.code((0,n._)`delete ${_}[${c}]`)}function h(c){if(p.removeAdditional==="all"||p.removeAdditional&&m===!1){a(c);return}if(m===!1){f.setParams({additionalProperty:c}),f.error(),y||l.break();return}if(typeof m=="object"&&!(0,d.alwaysValidSchema)(v,m)){const g=l.name("valid");p.removeAdditional==="failing"?(r(c,g,!1),l.if((0,n.not)(g),()=>{f.reset(),a(c)})):(r(c,g),y||l.if((0,n.not)(g),()=>l.break()))}}function r(c,g,j){const C={keyword:"additionalProperties",dataProp:c,dataPropType:d.Type.Str};j===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),f.subschema(C,g)}}};return tt.default=o,tt}var rt={},Cr;function Kn(){if(Cr)return rt;Cr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=_t(),n=le(),S=Q(),d=rn(),E={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:f,schema:l,parentSchema:m,data:$,it:_}=o;_.opts.removeAdditional==="all"&&m.additionalProperties===void 0&&d.default.code(new e.KeywordCxt(_,d.default,"additionalProperties"));const P=(0,n.allSchemaProperties)(l);for(const s of P)_.definedProperties.add(s);_.opts.unevaluated&&P.length&&_.props!==!0&&(_.props=S.mergeEvaluated.props(f,(0,S.toHash)(P),_.props));const v=P.filter(s=>!(0,S.alwaysValidSchema)(_,l[s]));if(v.length===0)return;const y=f.name("valid");for(const s of v)p(s)?w(s):(f.if((0,n.propertyInData)(f,$,s,_.opts.ownProperties)),w(s),_.allErrors||f.else().var(y,!0),f.endIf()),o.it.definedProperties.add(s),o.ok(y);function p(s){return _.opts.useDefaults&&!_.compositeRule&&l[s].default!==void 0}function w(s){o.subschema({keyword:"properties",schemaProp:s,dataProp:s},y)}}};return rt.default=E,rt}var nt={},Ar;function Ln(){if(Ar)return nt;Ar=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=le(),n=J(),S=Q(),d=Q(),E={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:f,schema:l,data:m,parentSchema:$,it:_}=o,{opts:P}=_,v=(0,e.allSchemaProperties)(l),y=v.filter(h=>(0,S.alwaysValidSchema)(_,l[h]));if(v.length===0||y.length===v.length&&(!_.opts.unevaluated||_.props===!0))return;const p=P.strictSchema&&!P.allowMatchingProperties&&$.properties,w=f.name("valid");_.props!==!0&&!(_.props instanceof n.Name)&&(_.props=(0,d.evaluatedPropsToName)(f,_.props));const{props:s}=_;i();function i(){for(const h of v)p&&t(h),_.allErrors?a(h):(f.var(w,!0),a(h),f.if(w))}function t(h){for(const r in p)new RegExp(h).test(r)&&(0,S.checkStrictMode)(_,`property ${r} matches pattern ${h} (use allowMatchingProperties)`)}function a(h){f.forIn("key",m,r=>{f.if((0,n._)`${(0,e.usePattern)(o,h)}.test(${r})`,()=>{const c=y.includes(h);c||o.subschema({keyword:"patternProperties",schemaProp:h,dataProp:r,dataPropType:d.Type.Str},w),_.opts.unevaluated&&s!==!0?f.assign((0,n._)`${s}[${r}]`,!0):!c&&!_.allErrors&&f.if((0,n.not)(w),()=>f.break())})})}}};return nt.default=E,nt}var st={},Mr;function Hn(){if(Mr)return st;Mr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=Q(),n={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(S){const{gen:d,schema:E,it:o}=S;if((0,e.alwaysValidSchema)(o,E)){S.fail();return}const f=d.name("valid");S.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),S.failResult(f,()=>S.reset(),()=>S.error())},error:{message:"must NOT be valid"}};return st.default=n,st}var at={},Dr;function Gn(){if(Dr)return at;Dr=1,Object.defineProperty(at,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return at.default=n,at}var ot={},Vr;function Jn(){if(Vr)return ot;Vr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=J(),n=Q(),d={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:E})=>(0,e._)`{passingSchemas: ${E.passing}}`},code(E){const{gen:o,schema:f,parentSchema:l,it:m}=E;if(!Array.isArray(f))throw new Error("ajv implementation error");if(m.opts.discriminator&&l.discriminator)return;const $=f,_=o.let("valid",!1),P=o.let("passing",null),v=o.name("_valid");E.setParams({passing:P}),o.block(y),E.result(_,()=>E.reset(),()=>E.error(!0));function y(){$.forEach((p,w)=>{let s;(0,n.alwaysValidSchema)(m,p)?o.var(v,!0):s=E.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&o.if((0,e._)`${v} && ${_}`).assign(_,!1).assign(P,(0,e._)`[${P}, ${w}]`).else(),o.if(v,()=>{o.assign(_,!0),o.assign(P,w),s&&E.mergeEvaluated(s,e.Name)})})}}};return ot.default=d,ot}var it={},Ur;function Wn(){if(Ur)return it;Ur=1,Object.defineProperty(it,"__esModule",{value:!0});const e=Q(),n={keyword:"allOf",schemaType:"array",code(S){const{gen:d,schema:E,it:o}=S;if(!Array.isArray(E))throw new Error("ajv implementation error");const f=d.name("valid");E.forEach((l,m)=>{if((0,e.alwaysValidSchema)(o,l))return;const $=S.subschema({keyword:"allOf",schemaProp:m},f);S.ok(f),S.mergeEvaluated($)})}};return it.default=n,it}var ut={},zr;function Bn(){if(zr)return ut;zr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=J(),n=Q(),d={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:f,parentSchema:l,it:m}=o;l.then===void 0&&l.else===void 0&&(0,n.checkStrictMode)(m,'"if" without "then" and "else" is ignored');const $=E(m,"then"),_=E(m,"else");if(!$&&!_)return;const P=f.let("valid",!0),v=f.name("_valid");if(y(),o.reset(),$&&_){const w=f.let("ifClause");o.setParams({ifClause:w}),f.if(v,p("then",w),p("else",w))}else $?f.if(v,p("then")):f.if((0,e.not)(v),p("else"));o.pass(P,()=>o.error(!0));function y(){const w=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);o.mergeEvaluated(w)}function p(w,s){return()=>{const i=o.subschema({keyword:w},v);f.assign(P,v),o.mergeValidEvaluated(i,P),s?f.assign(s,(0,e._)`${w}`):o.setParams({ifClause:w})}}}};function E(o,f){const l=o.schema[f];return l!==void 0&&!(0,n.alwaysValidSchema)(o,l)}return ut.default=d,ut}var ct={},Fr;function Qn(){if(Fr)return ct;Fr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Q(),n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:S,parentSchema:d,it:E}){d.if===void 0&&(0,e.checkStrictMode)(E,`"${S}" without "if" is ignored`)}};return ct.default=n,ct}var Kr;function Xn(){if(Kr)return Xe;Kr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=en(),n=Dn(),S=tn(),d=Vn(),E=Un(),o=zn(),f=Fn(),l=rn(),m=Kn(),$=Ln(),_=Hn(),P=Gn(),v=Jn(),y=Wn(),p=Bn(),w=Qn();function s(i=!1){const t=[_.default,P.default,v.default,y.default,p.default,w.default,f.default,l.default,o.default,m.default,$.default];return i?t.push(n.default,d.default):t.push(e.default,S.default),t.push(E.default),t}return Xe.default=s,Xe}var lt={},dt={},Lr;function Yn(){if(Lr)return dt;Lr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must match format "${d}"`,params:({schemaCode:d})=>(0,e._)`{format: ${d}}`},code(d,E){const{gen:o,data:f,$data:l,schema:m,schemaCode:$,it:_}=d,{opts:P,errSchemaPath:v,schemaEnv:y,self:p}=_;if(!P.validateFormats)return;l?w():s();function w(){const i=o.scopeValue("formats",{ref:p.formats,code:P.code.formats}),t=o.const("fDef",(0,e._)`${i}[${$}]`),a=o.let("fType"),h=o.let("format");o.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>o.assign(a,(0,e._)`${t}.type || "string"`).assign(h,(0,e._)`${t}.validate`),()=>o.assign(a,(0,e._)`"string"`).assign(h,t)),d.fail$data((0,e.or)(r(),c()));function r(){return P.strictSchema===!1?e.nil:(0,e._)`${$} && !${h}`}function c(){const g=y.$async?(0,e._)`(${t}.async ? await ${h}(${f}) : ${h}(${f}))`:(0,e._)`${h}(${f})`,j=(0,e._)`(typeof ${h} == "function" ? ${g} : ${h}.test(${f}))`;return(0,e._)`${h} && ${h} !== true && ${a} === ${E} && !${j}`}}function s(){const i=p.formats[m];if(!i){r();return}if(i===!0)return;const[t,a,h]=c(i);t===E&&d.pass(g());function r(){if(P.strictSchema===!1){p.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${m}" ignored in schema at path "${v}"`}}function c(j){const C=j instanceof RegExp?(0,e.regexpCode)(j):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(m)}`:void 0,D=o.scopeValue("formats",{key:m,ref:j,code:C});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${D}.validate`]:["string",j,D]}function g(){if(typeof i=="object"&&!(i instanceof RegExp)&&i.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${h}(${f})`}return typeof a=="function"?(0,e._)`${h}(${f})`:(0,e._)`${h}.test(${f})`}}}};return dt.default=S,dt}var Hr;function Zn(){if(Hr)return lt;Hr=1,Object.defineProperty(lt,"__esModule",{value:!0});const n=[Yn().default];return lt.default=n,lt}var we={},Gr;function xn(){return Gr||(Gr=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Jr;function es(){if(Jr)return Ce;Jr=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=Sn(),n=Mn(),S=Xn(),d=Zn(),E=xn(),o=[e.default,n.default,(0,S.default)(),d.default,E.metadataVocabulary,E.contentVocabulary];return Ce.default=o,Ce}var ft={},ke={},Wr;function ts(){if(Wr)return ke;Wr=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.DiscrError=void 0;var e;return(function(n){n.Tag="tag",n.Mapping="mapping"})(e||(ke.DiscrError=e={})),ke}var Br;function rs(){if(Br)return ft;Br=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=J(),n=ts(),S=Tt(),d=vt(),E=Q(),f={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:l,tagName:m}})=>l===n.DiscrError.Tag?`tag "${m}" must be string`:`value of tag "${m}" must be in oneOf`,params:({params:{discrError:l,tag:m,tagName:$}})=>(0,e._)`{error: ${l}, tag: ${$}, tagValue: ${m}}`},code(l){const{gen:m,data:$,schema:_,parentSchema:P,it:v}=l,{oneOf:y}=P;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=_.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!y)throw new Error("discriminator: requires oneOf keyword");const w=m.let("valid",!1),s=m.const("tag",(0,e._)`${$}${(0,e.getProperty)(p)}`);m.if((0,e._)`typeof ${s} == "string"`,()=>i(),()=>l.error(!1,{discrError:n.DiscrError.Tag,tag:s,tagName:p})),l.ok(w);function i(){const h=a();m.if(!1);for(const r in h)m.elseIf((0,e._)`${s} === ${r}`),m.assign(w,t(h[r]));m.else(),l.error(!1,{discrError:n.DiscrError.Mapping,tag:s,tagName:p}),m.endIf()}function t(h){const r=m.name("valid"),c=l.subschema({keyword:"oneOf",schemaProp:h},r);return l.mergeEvaluated(c,e.Name),r}function a(){var h;const r={},c=j(P);let g=!0;for(let V=0;V<y.length;V++){let L=y[V];if(L?.$ref&&!(0,E.schemaHasRulesButRef)(L,v.self.RULES)){const B=L.$ref;if(L=S.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,B),L instanceof S.SchemaEnv&&(L=L.schema),L===void 0)throw new d.default(v.opts.uriResolver,v.baseId,B)}const K=(h=L?.properties)===null||h===void 0?void 0:h[p];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);g=g&&(c||j(L)),C(K,V)}if(!g)throw new Error(`discriminator: "${p}" must be required`);return r;function j({required:V}){return Array.isArray(V)&&V.includes(p)}function C(V,L){if(V.const)D(V.const,L);else if(V.enum)for(const K of V.enum)D(K,L);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function D(V,L){if(typeof V!="string"||V in r)throw new Error(`discriminator: "${p}" values must be unique strings`);r[V]=L}}}};return ft.default=f,ft}const ns="http://json-schema.org/draft-07/schema#",ss="http://json-schema.org/draft-07/schema#",as="Core schema meta-schema",os={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},is=["object","boolean"],us={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},cs={$schema:ns,$id:ss,title:as,definitions:os,type:is,properties:us,default:!0};var Qr;function ls(){return Qr||(Qr=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=n.Ajv=void 0;const S=wn(),d=es(),E=rs(),o=cs,f=["/properties"],l="http://json-schema.org/draft-07/schema";class m extends S.default{_addVocabularies(){super._addVocabularies(),d.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(E.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,f):o;this.addMetaSchema(p,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}n.Ajv=m,e.exports=n=m,e.exports.Ajv=m,Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var $=_t();Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var _=J();Object.defineProperty(n,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var P=qt();Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return P.default}});var v=vt();Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Oe,Oe.exports)),Oe.exports}var ds=ls();const fs=sn(ds),ms=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));export{ms as a};
